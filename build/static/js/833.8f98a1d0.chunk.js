"use strict";(self.webpackChunkoasis_front=self.webpackChunkoasis_front||[]).push([[833],{1847:(e,a,s)=>{s.d(a,{Z:()=>v});var t=s(72791),l=s(61889),o=s(92506),n=s(81724),r=s(87284),i=s(38314),d=s(32325),c=s(96172),m=s(40720),u=s(57689),x=s(82337),p=s(43849),b=s(92983),h=s(80184);const _=n.Ry({document_type:n.Z_().required("Tipo de documento es requerido"),code:n.Z_().required("Numero es requerido"),name:n.Z_().required("Nombres es requerido"),gender:n.Z_().required("Genero es requerido"),marital_status:n.Z_().required("Estado Civil es requerido"),date_of_birth:n.Z_().required("Fecha de Nacimiento es requerido"),address1:n.Z_().required("Direccion 1 es requerido"),cellphone:n.Z_().required("Celular es requerido"),email:n.Z_().required("E-Mail es requerido"),job_title:n.Z_().required("Cargo es requerido"),status:n.Z_().required("Estado es requerido")}),j=i.Z.masters.employees.base;let g=[{label:"DNI",value:"DNI"},{label:"RUC",value:"RUC"},{label:"TI",value:"TI"},{label:"CEDULA",value:"CEDULA"}],Z=[{label:"Masculino",value:"Masculino"},{label:"Femenino",value:"Femenino"},{label:"No binario",value:"No binario"},{label:"Prefiero no especificar",value:"Prefiero no especificar"}],N=[{label:"Soltero(a)",value:"Soltero(a)"},{label:"Casado(a)",value:"Casado(a)"},{label:"Union Libre",value:"Union Libre"},{label:"Separado(a)",value:"Separado(a)"},{label:"Divorciado(a)",value:"Divorciado(a)"},{label:"Viudo(a)",value:"Viudo(a)"}];const f={document_type:"",code:!1,name:!1,image:!1,gender:"",marital_status:"",date_of_birth:!1,address1:!1,address2:!1,phone:!1,cellphone:!1,email:!1,job_title:!1,status:1},v=(0,c.p5)((0,c.Tg)((e=>{let{id:a,doGet:s,genericException:n,appSuccess:c,doPost:v,doPut:q,appInfo:y,setEditable:P,viewMode:C,refresh:E}=e;const R=(0,u.s0)(),[S,w]=(0,t.useState)(f),[D,A]=(0,t.useState)(!0),I=(0,t.useCallback)((async()=>{const e={url:i.Z.masters.employees.initForm,data:a?{id:a}:{}};return await s(e)}),[s,a,E,P]),M=(0,t.useCallback)((async()=>{try{const{employees:e}=await I(),{document_type:a,code:s,name:t,image:l,gender:o,marital_status:n,date_of_birth:r,address1:i,address2:d,phone:c,cellphone:m,email:u,job_title:x,status:b}=e;w({document_type:a||"",code:s||"",name:t||"",image:l||"",gender:o||"",marital_status:n||"",date_of_birth:r||"",address1:i||"",address2:d||"",phone:c||"",cellphone:m||"",email:u||"",job_title:x||"",status:(0,p.rp)(b)||"Activo"}),A(!1)}catch(e){console.log("ERROR AL INICIAR"+e),n(e)}}),[n,I]);(0,t.useEffect)((()=>{M()}),[M]);const T=e=>{R("".concat("/app/general/masters/employees","/edit/").concat(e),{replace:!1})};return(0,h.jsx)(h.Fragment,{children:D?(0,h.jsx)(x.Z,{p:10,children:(0,h.jsx)(r.aN,{})}):(0,h.jsx)(o.J9,{enableReinitialize:!0,initialValues:S,validationSchema:_,onSubmit:async e=>{const s=(e=>{const{document_type:a,code:s,name:t,image:l,gender:o,marital_status:n,date_of_birth:r,address1:i,address2:d,phone:c,cellphone:m,email:u,job_title:x,status:b}=e;return{document_type:a,code:s,name:t,image:l,gender:o,marital_status:n,date_of_birth:r,address1:i,address2:d,phone:c,cellphone:m,email:u,job_title:x,status:(0,p.HY)(b)}})(e),t={url:a?"".concat(j,"/").concat(a):j,data:s},l=a?q:v;try{const e=await l(t);a?(y(d.Z.crud.update),T(e.response.data.id)):(c(d.Z.crud.new),T(e.response.data.id))}catch(o){console.log("ERROR AL GUARDAR "+o),n(o)}},children:e=>(0,h.jsxs)(o.l0,{children:[(0,h.jsx)(m.Au,{formProps:e}),(0,h.jsxs)(l.ZP,{container:!0,direction:"row",spacing:2,children:[(0,h.jsx)(l.ZP,{item:!0,xs:12,md:6,xl:6,children:(0,h.jsx)(o.gN,{label:"Tipo de documento",name:"document_type",component:r.Ky,items:g})}),(0,h.jsx)(l.ZP,{item:!0,xs:6,md:6,xl:6,children:(0,h.jsx)(o.gN,{label:"Numero",name:"code",component:r.dn})}),(0,h.jsx)(l.ZP,{item:!0,xs:6,md:6,xl:6,children:(0,h.jsx)(o.gN,{label:"Nombres",name:"name",component:r.dn})}),(0,h.jsx)(l.ZP,{item:!0,xs:6,md:6,xl:6,children:(0,h.jsx)(o.gN,{label:"Imagen",name:"image",component:r.dn})}),(0,h.jsx)(l.ZP,{item:!0,xs:12,md:6,xl:6,children:(0,h.jsx)(o.gN,{label:"Genero",name:"gender",component:r.Ky,items:Z})}),(0,h.jsx)(l.ZP,{item:!0,xs:12,md:6,xl:6,children:(0,h.jsx)(o.gN,{label:"Estado Civil",name:"marital_status",component:r.Ky,items:N})}),(0,h.jsx)(l.ZP,{item:!0,xs:6,md:6,xl:6,children:(0,h.jsx)(o.gN,{label:"Fecha de Nacimiento",name:"date_of_birth",component:b.Z})}),(0,h.jsx)(l.ZP,{item:!0,xs:6,md:6,xl:6,children:(0,h.jsx)(o.gN,{label:"Direccion 1",name:"address1",component:r.dn})}),(0,h.jsx)(l.ZP,{item:!0,xs:6,md:6,xl:6,children:(0,h.jsx)(o.gN,{label:"Direccion 2",name:"address2",component:r.OW})}),(0,h.jsx)(l.ZP,{item:!0,xs:6,md:6,xl:6,children:(0,h.jsx)(o.gN,{label:"Telefono",name:"phone",component:r.dn})}),(0,h.jsx)(l.ZP,{item:!0,xs:6,md:6,xl:6,children:(0,h.jsx)(o.gN,{label:"Celular",name:"cellphone",component:r.dn})}),(0,h.jsx)(l.ZP,{item:!0,xs:6,md:6,xl:6,children:(0,h.jsx)(o.gN,{label:"E-Mail",name:"email",component:r.dn})}),(0,h.jsx)(l.ZP,{item:!0,xs:6,md:6,xl:6,children:(0,h.jsx)(o.gN,{label:"Cargo",name:"job_title",component:r.dn})}),(0,h.jsx)(l.ZP,{item:!0,xs:12,md:6,xl:6,children:(0,h.jsx)(o.gN,{label:"Estado",name:"status",component:r.dn,disabled:!0})})]})]})})})})))},73833:(e,a,s)=>{s.r(a),s.d(a,{default:()=>m});var t=s(72791),l=s(87284),o=s(30808),n=s(1847),r=s(80184);const{title:i,createTitle:d}=o.default.masters.employees,c=[{label:"Maestros"},{label:i}];const m=function(){const[e,a]=(0,t.useState)(!1),[s,o]=(0,t.useState)(!1),i=(0,t.useRef)();return(0,r.jsx)(l.cc,{title:d,breadcrumbs:c,children:(0,r.jsx)(n.Z,{refresh:i,setEditable:a,setViewMode:o,viewMode:s})})}},82337:(e,a,s)=>{s.d(a,{Z:()=>n});var t=s(33359),l=s(23814);const o=(0,s(59703).Z)("MuiBox",["root"]),n=(0,l.Z)({defaultClassName:o.root,generateClassName:t.Z.generate})}}]);
//# sourceMappingURL=833.8f98a1d0.chunk.js.map