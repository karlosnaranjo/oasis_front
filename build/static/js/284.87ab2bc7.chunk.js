"use strict";(self.webpackChunkoasis_front=self.webpackChunkoasis_front||[]).push([[284],{85698:(e,t,a)=>{a.d(t,{Z:()=>u});var s=a(72791),r=a(16029),o=a(43896),i=a(83449),n=a(47283),l=a(82851),c=a(80184);function d(e){let{config:t,selected:a}=e;const[d,u]=(0,s.useState)(String(a));return(0,c.jsxs)(i.ZP,{value:d,children:[(0,c.jsx)(r.Z,{sx:{borderBottom:1,borderColor:"divider"},children:(0,c.jsx)(n.Z,{onChange:(e,t)=>{u(t)},children:t.map(((e,t)=>(0,c.jsx)(o.Z,{label:e.label,value:String(t+1)},"tab".concat(t))))})}),t.map(((e,t)=>(0,c.jsx)(l.Z,{value:String(t+1),children:e.component},String(t+1))))]})}d.defaultProps={selected:1};const u=d},40720:(e,t,a)=>{a.d(t,{Xd:()=>d,df:()=>b,Dv:()=>l,pV:()=>A,XF:()=>O,m1:()=>F,Au:()=>X,g3:()=>M,Ky:()=>v,HL:()=>C,OW:()=>P,dn:()=>w,Nm:()=>I});var s=a(72791),r=a(53329),o=a(82880),i=a(80184);const n=e=>{let{className:t,style:a,disabled:s,label:n="Guardar",...l}=e;return(0,i.jsx)(o.Z,{className:t,style:a,variant:"contained",type:"submit",color:"primary",disabled:s,startIcon:(0,i.jsx)(r.Z,{}),...l,children:n})};n.defaultProps={className:"",style:{},disabled:!1};const l=n,c=e=>{let{className:t,style:a,label:s="",onClick:r,Icon:n=(0,i.jsx)(i.Fragment,{}),...l}=e;return(0,i.jsx)(o.Z,{className:t,style:a,variant:"contained",onClick:()=>r(),startIcon:n,...l,children:s})};c.defaultProps={className:"",style:{}};const d=c;var u=a(67394),h=a(57689);const g=e=>{let{className:t,style:a,label:s="Atr\xe1s"}=e;const r=(0,h.s0)();return(0,i.jsx)(o.Z,{className:t,style:a,variant:"contained",onClick:()=>r(-1),startIcon:(0,i.jsx)(u.Z,{}),children:s})};g.defaultProps={className:"",style:{}};const p=g;var m=a(41286);const x=e=>{let{className:t,disabled:a,style:s,label:r="Editar",onEdit:n}=e;return(0,i.jsx)(o.Z,{className:t,disabled:a,style:s,variant:"contained",onClick:()=>n(),startIcon:(0,i.jsx)(m.Z,{}),children:r})};x.defaultProps={className:"",style:{}};const b=x;var Z=a(73807),f=a(27760);(0,a(21098).Z)((e=>({helperText:{color:"#EA4D4D",width:"100%"}})));const v=s.forwardRef(((e,t)=>{let{items:a=[],label:r,filter:o=!1,onOptionSelected:n,field:{name:l,onBlur:c,value:d,onChange:u},form:{touched:h,errors:g,setFieldValue:p,setFieldTouched:m},...x}=e;const[b,v]=(0,s.useState)(null);(0,s.useEffect)((()=>{v(a.find((e=>e.value===d))||null)}),[o,d,a]);const j=h[l]&&Boolean(g[l]);return(0,i.jsx)(Z.Z,{id:l,name:l,value:b,onChange:async(e,t)=>{const{value:a="",label:s=""}=t||{};n&&await n(a,s,l),m(l,!0),p(l,a)},getOptionLabel:e=>e.label||"",options:a,fullWidth:!0,...x,renderInput:e=>(0,i.jsx)(f.Z,{...e,size:"small",label:r,variant:"outlined",inputRef:t,autoComplete:"off",error:j,helperText:j&&g[l],fullWidth:!0,margin:"dense"})})}));var j=a(85523),y=a(9955);const E=s.forwardRef(((e,t)=>{let{label:a,field:{name:s,value:r,onChange:o},form:{setFieldValue:n,setFieldTouched:l},...c}=e;return(0,i.jsx)(j.Z,{control:(0,i.jsx)(y.Z,{id:s,inputRef:t,checked:Boolean(r),value:s,onChange:e=>{o&&o(e),l(s,!0),n(s,e.target.checked)},...c}),label:a})}));E.defaultProps={label:""};const C=E,T=e=>{let{field:{name:t,onBlur:a,value:s,onChange:r},form:{touched:o,errors:n},rows:l,...c}=e;const d=o[t]&&Boolean(n[t]);return(0,i.jsx)(f.Z,{id:t,size:"small",margin:"dense",variant:"outlined",autoComplete:"off",multiline:!0,rows:l,error:d,helperText:d&&n[t],fullWidth:!0,name:t,onBlur:a,onChange:r,value:s,...c})};T.defaultProps={rows:2};const P=T,w=s.forwardRef(((e,t)=>{let{field:{name:a,value:s,onBlur:r,onChange:o,type:n="text"},form:{touched:l,errors:c},...d}=e;const u=l[a]&&Boolean(c[a]);return(0,i.jsx)(f.Z,{id:a,size:"small",inputRef:t,variant:"outlined",type:n,autoComplete:"off",error:u,helperText:u&&c[a],fullWidth:!0,name:a,onBlur:r,onChange:o,value:s,margin:"dense",...d})}));a(30948);var S=a(13400),k=a(39874),L=a(27247),D=a(17834);const F=e=>{let{onClick:t,requiredPermissions:a="",disabled:s,...r}=e;const{checkAccess:o}=(0,D.Z)();return(0,i.jsx)(S.Z,{size:k.Dt,sx:{"&:hover":e=>({color:e.palette.primary.main})},onClick:t,disabled:!o(a)||s,...r,children:(0,i.jsx)(L.Z,{})})};var N=a(12235);const A=e=>{let{onClick:t,requiredPermissions:a="",disabled:s,...r}=e;const{checkAccess:o}=(0,D.Z)();return(0,i.jsx)(S.Z,{size:k.Dt,sx:{"&:hover":e=>({color:e.palette.primary.main})},onClick:t,disabled:!o(a)||s,...r,children:(0,i.jsx)(N.Z,{})})},R=e=>{let{onClick:t,requiredPermissions:a="",disabled:r}=e;const{checkAccess:o}=(0,D.Z)(),n=(0,s.useMemo)((()=>!o(a)||r),[o,a,r]);return(0,i.jsx)(S.Z,{size:k.Dt,sx:{"&:hover":e=>({color:e.palette.primary.main})},onClick:t,disabled:n,children:(0,i.jsx)(m.Z,{})})};R.defaultProps={requiredPermissions:[]};const I=R;var B=a(88141);const O=e=>{let{onClick:t,requiredPermissions:a="",disabled:s,...r}=e;const{checkAccess:o}=(0,D.Z)();return(0,i.jsx)(S.Z,{sx:{"&:hover":e=>({color:e.palette.primary.main})},onClick:()=>t(),disabled:!o(a)||s,...r,children:(0,i.jsx)(B.Z,{})})};var _=a(88014);const M=e=>{let{onClick:t,requiredPermissions:a=[],disabled:s,...r}=e;const{checkAccess:o}=(0,D.Z)();return(0,i.jsx)(S.Z,{size:k.Dt,sx:{"&:hover":e=>({color:e.palette.primary.main})},onClick:t,disabled:!o(a)||s,...r,children:(0,i.jsx)(_.Z,{})})};var U=a(13239),z=a(28638),q=a(96172);let H=null;const Y=e=>{let{label:t,onOptionSelected:a,field:{name:r,value:o},form:{touched:n,errors:l,setFieldValue:c},doGet:d,searchValue:u,disabled:h,url:g,limit:p,genericException:m,requestParams:x}=e;const[b,v]=(0,s.useState)([]),[j,y]=(0,s.useState)(!1),[E,C]=(0,s.useState)(u),[T,P]=(0,s.useState)(!1),w=(0,s.useCallback)((async e=>{if(e){const t=async()=>{let t=[];const a={url:g,data:{search:null!==e&&void 0!==e?e:"",limit:p,...x}};try{t=await d(a)}catch(s){m(s)}return t};v(await t()),P(!1)}}),[]);(0,s.useEffect)((()=>{clearTimeout(H),E&&j&&(P(!0),H=setTimeout((()=>w(E)),1e3))}),[w,E,j]);const S=n[r]&&Boolean(l[r]);return(0,i.jsx)(Z.Z,{id:r,name:r,disabled:h,clearText:"Limpiar",closeText:"Cerrar",openText:"Abrir",noOptionsText:""===E?"Escriba para iniciar la b\xfasqueda":"Sin opciones",loadingText:E?"Buscando...":"Iniciar busqueda",loading:T,onOpen:async()=>{y(!0),C(""),T&&P(!1)},onClose:async()=>{y(!1),T&&P(!1)},inputValue:E,getOptionLabel:e=>e.label||"",isOptionEqualToValue:e=>e.value===(null!==o&&void 0!==o?o:""),onChange:async(e,t)=>{var s;a?await a(t):c(r,null!==(s=null===t||void 0===t?void 0:t.value)&&void 0!==s?s:"")},onInputChange:(e,t,a)=>{(j||"clear"===a)&&C(t)},options:b,popupIcon:(0,i.jsx)(z.Z,{}),renderInput:e=>(0,i.jsx)(f.Z,{...e,size:"small",label:t,variant:"outlined",autoComplete:"off",error:S,helperText:S&&l[r],fullWidth:!0,margin:"dense",InputProps:{...e.InputProps,endAdornment:(0,i.jsxs)(i.Fragment,{children:[T?(0,i.jsx)(U.Z,{color:"inherit",size:20,sx:{marginRight:4}}):null,e.InputProps.endAdornment]})}})})};Y.defaultProps={limit:10,disabled:!1};(0,q.p5)((0,q.Tg)(Y));var W=a(61889),G=a(16029),V=a(20890);const X=(0,a(25787).Z)({typography:{marginRight:10}})((e=>{let{formProps:{isSubmitting:t=!1}={},disableEdit:a,onClose:s,onEdit:r,classes:n,children:c}=e;return(0,i.jsx)(W.ZP,{item:!0,container:!0,justifyContent:"flex-end",children:(0,i.jsxs)(G.Z,{display:"flex",flexDirection:"row",m:2,children:[r?(0,i.jsx)(V.Z,{className:n.typography,children:(0,i.jsx)(b,{disabled:t||a,onEdit:r})}):(0,i.jsx)(V.Z,{className:n.typography,children:(0,i.jsx)(l,{disabled:t})}),s&&(0,i.jsx)(V.Z,{className:n.typography,children:(0,i.jsx)(o.Z,{disabled:t,variant:"contained",onClick:s,children:"Cancelar"})}),(0,i.jsx)(V.Z,{className:n.typography,children:(0,i.jsx)(p,{disabled:t})}),c]})})}))},78145:(e,t,a)=>{a.d(t,{s:()=>g});var s=a(72791),r=a(5574),o=a(80184);const i=e=>{let{open:t,onClose:a,children:s,modalProps:i}=e;return(0,o.jsx)(r.Z,{...i,fullWidth:!0,open:t,onClose:a,keepMounted:!1,children:s})};var n=a(65661),l=a(39157),c=a(20890),d=a(97123),u=a(82880),h=a(40318);const g=e=>{let{open:t,onClose:a,title:r,modalProps:g,message:p,onCancel:m,onAccept:x,acceptLabel:b="Aceptar",cancelLabel:Z="Cancelar"}=e;const[f,v]=(0,s.useState)(!1);return(0,o.jsxs)(i,{open:t,onClose:a,title:r,...g,children:[r&&(0,o.jsx)(n.Z,{align:"center",children:r}),p&&(0,o.jsx)(l.Z,{children:(0,o.jsx)(c.Z,{variant:"body2",align:"center",children:p})}),(0,o.jsxs)(d.Z,{children:[(0,o.jsx)(u.Z,{disableElevation:!0,variant:"contained",color:"primary",disabled:f,startIcon:(0,o.jsx)(h.Z,{}),onClick:async()=>{v(!0),x&&await x()},children:b}),(0,o.jsx)(u.Z,{color:"primary",onClick:()=>{m&&m(),a()},children:Z})]})]})}},87284:(e,t,a)=>{a.d(t,{Xd:()=>s.Xd,Dv:()=>s.Dv,Gh:()=>X,Fm:()=>Se,aN:()=>r.Z,cc:()=>xe,Ky:()=>s.Ky,HL:()=>s.HL,iA:()=>V,OW:()=>s.OW,dn:()=>s.dn});var s=a(40720),r=(a(85698),a(50284)),o=a(72791),i=a(35527),n=a(39281),l=a(79836),c=a(96172),d=a(39874),u=(a(89147),a(32325));const h=(e,t)=>t.split(".").reduce(((e,t)=>e?e[t]:null),e),g=e=>"function"===typeof e;var p=a(56890),m=a(35855),x=a(53994),b=a(94454),Z=a(80720),f=a(80184);const v={visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1}};const j=function(e){let{columns:t,orderBy:a,order:s,setOrderBy:r,extraColumn:o,handleSelectAllClick:i,selected:n,totalRow:l,expandable:c}=e;return(0,f.jsx)(p.Z,{children:(0,f.jsxs)(m.Z,{children:[o&&(0,f.jsx)(x.Z,{padding:"checkbox",children:(0,f.jsx)(b.Z,{onChange:i,checked:n.length>0&&n.length===l,indeterminate:n.length>0&&n.length<l})}),Boolean(c)&&(0,f.jsx)(x.Z,{}),t.map(((e,t)=>{let{filter:o=!0,...i}=e;const n=t;return(0,f.jsx)(x.Z,{align:i.align||"left",sortDirection:a===i.name&&s,style:{width:i.width?i.width:""},children:o?(0,f.jsxs)(Z.Z,{active:a===i.name,direction:a===i.name?s:"asc",onClick:()=>r(i.name),children:[i.label,a===i.name?(0,f.jsx)("span",{style:v.visuallyHidden,children:"desc"===s?"ordenar descendientemente":"ordenar ascendentemente"}):null]}):i.label},n)}))]})})};var y=a(53382),E=a(61889),C=a(13239),T=a(20890),P=a(43849);const w=function(e){let{columns:t,data:a={}}=e;return(0,f.jsx)(m.Z,{children:t.map(((e,t)=>{var s;let r=e.component||h(a,e.name);return r=g(r)?r(a):r,r="number"===e.type?d.zW.format(null!==(s=r)&&void 0!==s?s:0):r,r="status"==e.name?(0,P.rp)(r):r,(0,f.jsx)(x.Z,{align:e.align||"left",style:{width:e.width?e.width:""},children:r},"Col".concat(String(t)))}))})};const S=function(e){let{columns:t,data:a,isLoading:s}=e;return(0,f.jsx)(y.Z,{children:s||!Array.isArray(a)||0===a.length?(0,f.jsx)(m.Z,{children:(0,f.jsx)(x.Z,{colSpan:t.length,children:(0,f.jsxs)(E.ZP,{style:{display:"flex",justifyContent:"center",margin:10},children:[s&&(0,f.jsx)(C.Z,{color:"secondary"}),!s&&(0,f.jsx)(T.Z,{children:"No hay datos para mostrar..."})]})})}):Array.isArray(a)&&a.map(((e,a)=>(0,f.jsx)(w,{columns:t,data:e},"R".concat(String(a)))))})};const k=function(e){let{columns:t,data:a={},checked:s=!1,setCheck:r}=e;return(0,f.jsxs)(m.Z,{hover:!0,onClick:()=>r(a),selected:s,children:[(0,f.jsx)(x.Z,{padding:"checkbox",children:(0,f.jsx)(b.Z,{checked:s,disabled:!!a.selectable&&Boolean(a.selectable)})}),t.map(((e,t)=>{var s;let r=e.component||h(a,e.name);return r=g(r)?r(a):r,r="number"===e.type?d.zW.format(null!==(s=r)&&void 0!==s?s:0):r,(0,f.jsx)(x.Z,{align:e.align||"left",style:{width:e.width?e.width:""},children:r},"Col".concat(String(t)))}))]})};class L extends o.Component{constructor(e){super(e),this.state={}}render(){const{isLoading:e,data:t,columns:a,setCheck:s,verifyExist:r}=this.props;return(0,f.jsx)(y.Z,{children:e||!Array.isArray(t)||0===t.length?(0,f.jsx)(m.Z,{children:(0,f.jsx)(x.Z,{colSpan:a.length+1,children:(0,f.jsxs)(E.ZP,{style:{display:"flex",justifyContent:"center",margin:10},children:[e&&(0,f.jsx)(C.Z,{color:"secondary"}),!e&&(0,f.jsx)(T.Z,{children:"No hay datos para mostrar..."})]})})}):Array.isArray(t)&&t.map(((e,t)=>(0,f.jsx)(k,{columns:a,data:e,setCheck:s,checked:r(e)>=0},"R".concat(String(t)))))})}}const D=L;var F=a(63033);const N=function(e){const{page:t,rowsPerPage:a,total:s,setPage:r,setRowsPerPage:o}=e;return(0,f.jsx)(F.Z,{rowsPerPageOptions:[10,20,50,100],component:"div",count:s,rowsPerPage:a,page:t,onPageChange:(e,t)=>r(t),onRowsPerPageChange:e=>o(e.target.value)})};var A=a(13400),R=a(1235),I=a(72821);const B=function(e){let{columns:t,data:a={},openExpandable:s,expanded:r}=e;return(0,f.jsxs)(m.Z,{children:[(0,f.jsx)(x.Z,{children:(0,f.jsx)(A.Z,{onClick:s,size:d.Dt,children:r?(0,f.jsx)(R.Z,{}):(0,f.jsx)(I.Z,{})})}),t.map(((e,t)=>{var s;let r=e.component||h(a,e.name);return r=g(r)?r(a):r,r="number"===e.type?d.zW.format(null!==(s=r)&&void 0!==s?s:0):r,!e.hide&&(0,f.jsx)(x.Z,{align:e.align||"left",style:{width:e.width?e.width:""},children:r},"Col".concat(String(t)))}))]})};const O=function(e){let{columns:t,data:a,isLoading:s,expandable:r}=e;const[i,n]=o.useState(null);return(0,f.jsx)(y.Z,{children:s||!Array.isArray(a)||0===a.length?(0,f.jsx)(m.Z,{children:(0,f.jsx)(x.Z,{colSpan:t.length+1,children:(0,f.jsxs)(E.ZP,{style:{display:"flex",justifyContent:"center",margin:10},children:[s&&(0,f.jsx)(C.Z,{color:"secondary"}),!s&&(0,f.jsx)(T.Z,{children:"No hay datos para mostrar..."})]})})}):Array.isArray(a)&&a.map(((e,a)=>(0,f.jsxs)(o.Fragment,{children:[(0,f.jsx)(B,{columns:t,data:e,openExpandable:()=>n(a===i?null:a),expanded:i===a},"R".concat(String(a))),i===a&&(0,f.jsx)(m.Z,{children:(0,f.jsx)(x.Z,{colSpan:t.length+1,children:r(e)},"EC".concat(String(a)))},"ER".concat(String(a)))]},"F".concat(String(a)))))})};var _=a(34663),M=a(20068),U=a(88447),z=a(27760),q=a(82880),H=a(84642);const Y={title:{flex:1}};const W=function(e){let{title:t,columns:a,filters:r,setFilter:i,onCreate:n,createPermissions:l,ExtraToolBar:c,disableCreateButton:d}=e;const[u,h]=o.useState(null),[g,p]=o.useState(r),m=Boolean(u),x=()=>h(null),b=e=>{let{target:t}=e;p({...g,[t.name]:t.value})};return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)(_.Z,{children:[(0,f.jsx)(T.Z,{style:Y.title,variant:"h6",id:"tableTitle",component:"div",children:t||""}),(0,f.jsx)(M.Z,{title:"Filtros",children:(0,f.jsx)(A.Z,{onClick:e=>h(e.currentTarget),sx:{"&:hover":e=>({color:e.palette.primary.main})},children:(0,f.jsx)(H.Z,{})})}),n&&(0,f.jsx)(s.XF,{onClick:n,requiredPermissions:l,disabled:d}),c]}),m&&(0,f.jsx)(U.Z,{onClose:x,open:!0,children:(0,f.jsx)(E.ZP,{container:!0,direction:"row",sx:{top:"25%",left:"30%",backgroundColor:"white",justifyContent:"center",outline:"none",position:"absolute",width:"60%",borderRadius:2},children:(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(E.ZP,{container:!0,direction:"row",spacing:2,style:{padding:10},children:a.map((e=>{let{name:t,label:a,filter:s=!0}=e;return s&&(0,f.jsx)(E.ZP,{item:!0,xs:6,children:(0,f.jsx)(z.Z,{fullWidth:!0,name:t,label:a,type:"search",autoComplete:"off",value:g[t]||"",onChange:b},"T".concat(t))},"G".concat(t))}))}),(0,f.jsx)(E.ZP,{container:!0,direction:"row",spacing:2,style:{padding:10},children:(0,f.jsxs)(E.ZP,{item:!0,xs:6,children:[(0,f.jsx)(q.Z,{color:"primary",variant:"contained",style:{marginRight:10},onClick:()=>i(g),children:"Filtrar"}),(0,f.jsx)(q.Z,{color:"primary",variant:"outlined",onClick:()=>{i({}),p({}),x()},children:"Reiniciar"})]})})]})})})]})};class G extends o.Component{constructor(e){super(e),this.setFilter=e=>{if(this.props.serverSideUrl)this.setState({filters:e,page:0,isLoading:!0},this.serverSide);else{const t=this.filterData(e);this.setState({data:t,page:0})}},this.setPage=e=>{this.props.serverSideUrl?this.setState({page:e,isLoading:!0},this.serverSide):this.setState({page:e})},this.setRowsPerPage=e=>{this.props.serverSideUrl?this.setState({rowsPerPage:e,page:0,isLoading:!0},this.serverSide):this.setState({rowsPerPage:e,page:0})},this.setOrderBy=e=>{const t=e===this.state.orderBy&&"asc"===this.state.order?"desc":"asc";if(this.props.serverSideUrl)this.setState({order:t,orderBy:e,isLoading:!0},this.serverSide);else{const a=this.orderData(t,e);this.setState({order:t,orderBy:e,data:a})}},this.filterData=e=>{const{data:t}=this.props,a=Object.entries(e);let s=t;return a.forEach((e=>{s=s.filter((t=>String(t[e[0]]).includes(String(e[1]))))})),s},this.orderData=(e,t)=>{const{data:a}=this.props,s="asc"===e?1:-1;return a.sort(((e,a)=>e[t]<a[t]?-1*s:e[t]>a[t]?1*s:0))},this.pageData=e=>{if(this.props.serverSideUrl)return e;const{page:t,rowsPerPage:a}=this.state,s=t*a;return e.slice(s,s+a)},this.serverSide=async()=>{const{serverSideUrl:e,serverSideData:t,doGet:a,onDataLoaded:s}=this.props,{page:r,rowsPerPage:o,order:i,orderBy:n,filters:l}=this.state,c={};n&&""!==n&&(c[n]=i);const d={url:e,data:{perPage:o,page:r+1,sorts:JSON.stringify(c),filters:JSON.stringify(l),...t}};try{const e=await a(d),{data:t,total:r}=e.response;this.setState({data:t,total:r||0,isLoading:!1}),g(s)&&s(e)}catch(u){this.props.appError("Ocurrio un error cargando los datos de la tabla",u)}},this.verifyExist=e=>{const{selected:t}=this.state;let a=-1;return t.forEach(((t,s)=>{Object.is(t,e)&&(a=s)})),a},this.handleSelectAllClick=e=>{let t=[];const{data:a}=this.state,{onRowsSelect:s}=this.props;e.target.checked&&(t=a.map((e=>e))),this.setState({selected:t},(()=>s(this.state.selected)))},this.setCheck=e=>{const{onRowsSelect:t,singleSelect:a}=this.props,s=this.verifyExist(e);s>=0?this.setState((e=>{const t=e.selected;return t.splice(s,1),{selected:t}}),(()=>t(this.state.selected))):this.setState((t=>({selected:a?[e]:[...t.selected,e]})),(()=>t(this.state.selected)))},this.processData=()=>{const{order:e,orderBy:t}=this.state,a=this.orderData(e,t);this.setState({data:a,total:a.length})},this.state={isLoading:!0,page:0,rowsPerPage:10,order:"",orderBy:"",total:0,data:[],selected:[],filters:{}};const{forwardedRef:t}=this.props;t&&(t.current={refresh:this.serverSide})}componentDidMount(){const{serverSideUrl:e}=this.props;e?this.serverSide():(this.processData(),this.setState({isLoading:!1}))}componentDidUpdate(e){const{data:t,serverSideUrl:a}=this.props;e.data===t||a||this.processData()}render(){const{columns:e,title:t,onCreate:a,createPermissions:s,onRowsSelect:r,ExtraToolBar:o,paperProps:c,disableCreateButton:u,disableToolbar:h,expandable:g}=this.props,{page:p,rowsPerPage:m,order:x,orderBy:b,data:Z,total:v,filters:y,isLoading:E,selected:C}=this.state;return(0,f.jsxs)(i.Z,{...c,children:[h?"":(0,f.jsx)(W,{title:t,columns:e,filters:y,setFilter:this.setFilter,onCreate:a,createPermissions:s,ExtraToolBar:o,disableCreateButton:u||!1}),(0,f.jsx)(n.Z,{children:(0,f.jsxs)(l.Z,{size:d.qN,children:[(0,f.jsx)(j,{columns:e,order:x,orderBy:b,setOrderBy:this.setOrderBy,extraColumn:Boolean(r),expandable:Boolean(g),handleSelectAllClick:this.handleSelectAllClick,selected:C,totalRow:v}),Boolean(g)&&(0,f.jsx)(O,{columns:e,data:this.pageData(Z),isLoading:E,expandable:g}),Boolean(r)&&(0,f.jsx)(D,{columns:e,data:this.pageData(Z),isLoading:E,onRowsSelect:r,setCheck:this.setCheck,verifyExist:this.verifyExist}),!r&&!g&&(0,f.jsx)(S,{columns:e,data:this.pageData(Z),isLoading:E})]})}),(0,f.jsx)(N,{page:p,rowsPerPage:m,total:v,setPage:this.setPage,setRowsPerPage:this.setRowsPerPage})]})}}G.defaultProps={data:[],paperProps:{}};const V=(0,c.p5)((0,c.Tg)(G)),X=e=>{let{row:t,onEdit:a,onDelete:r,onChangeStatus:o,onPrint:i,children:n,updatePermissions:l="",deletePermissions:c="",changeStatusPermissions:d="",printPermissions:u="",disabledUpdate:h,disabledDelete:g,disabledPrint:p}=e;return(0,f.jsxs)(f.Fragment,{children:[a&&(0,f.jsx)(s.Nm,{onClick:()=>a(t),requiredPermissions:l,disabled:h}),r&&(0,f.jsx)(s.m1,{onClick:()=>r(t),requiredPermissions:c,disabled:g}),o&&(0,f.jsx)(s.pV,{onClick:()=>o(t),requiredPermissions:d,disabled:g}),i&&(0,f.jsx)(s.g3,{onClick:()=>i(t),requiredPermissions:u,disabled:p}),n]})};var J,K=a(30168),Q=a(81918),$=a(28789);(0,$.ZP)(Q.Z)(J||(J=(0,K.Z)(["\n  height: 20px;\n  padding: 4px 0;\n  font-size: 90%;\n  background-color: ",";\n"])),(e=>e.rgbcolor));var ee=a(6907),te=a(57689),ae=a(16029),se=a(57621),re=a(93517),oe=a(98333);const ie=e=>{let{label:t}=e;return(0,f.jsx)(T.Z,{children:t})};var ne,le=a(94721),ce=a(45682);const de=(0,$.ZP)(re.Z)(ce.ZP),ue=(0,$.ZP)(le.Z)(ce.ZP),he=$.ZP.div(ne||(ne=(0,K.Z)(["\n  width: 100%;\n  padding: 15px 0;\n"]))),ge=e=>{let{breadcrumbs:t=[]}=e;return(0,f.jsxs)(he,{children:[t.length>0&&(0,f.jsx)(de,{children:(0,f.jsx)(re.Z,{separator:(0,f.jsx)(oe.Z,{fontSize:"small"}),"aria-label":"breadcrumb",children:t.map((e=>(0,f.jsx)(ie,{label:e.label,path:e.path},"breadcrumb-".concat(e.label))))})}),(0,f.jsx)(ue,{})]})};var pe=a(37747);const me=(0,o.forwardRef)(((e,t)=>{let{children:a,title:s="",withOutCard:r,breadcrumbs:i,sx:n,...l}=e;const{pathname:c}=(0,te.TH)(),d=(0,o.useCallback)((()=>{pe.Z.pageview({page_path:c})}),[]);return(0,o.useEffect)((()=>{d()}),[d]),(0,f.jsxs)(ae.Z,{ref:t,...l,children:[(0,f.jsx)(ee.ql,{children:(0,f.jsx)("title",{children:s})}),(0,f.jsxs)(ae.Z,{sx:{p:2,...n},children:[(0,f.jsx)(ge,{breadcrumbs:i}),(0,f.jsx)(T.Z,{variant:"h6",color:"textPrimary",children:s})]}),r?(0,f.jsx)(f.Fragment,{children:a}):(0,f.jsx)(se.Z,{sx:{overflow:"unset",position:"unset",width:"100%"},children:(0,f.jsx)(ae.Z,{sx:{p:1,minHeight:200,...n},children:a})})]})}));me.defaultProps={withOutCard:!1};const xe=me;var be=a(25787),Ze=a(80007),fe=a(82460),ve=a(5519),je=a(50427),ye=a(54879),Ee=a(99852),Ce=a(4934),Te=a(81258),Pe=a(51637);const we={activo:{background:Ze.Z[500],color:"white"},inactivo:{background:fe.Z[500],color:"white"},cerrado:{background:ve.Z[500]},aprobado:{background:Ze.Z[600],color:"white"},anulado:{background:fe.Z[500],color:"white"},rechazado:{background:fe.Z[500],color:"white"},autorizado:{background:je.Z[700],color:"white"},programado:{background:ye.Z[500],color:"white"},picking:{background:Ee.Z[500]},ejecutado:{background:Ee.Z[500]},despacho:{background:Ce.Z[500],color:"white"},bloqueado:{background:Te.Z[500]},ocupado:{background:Pe.Z[500]},disponible:{background:Ze.Z[500],color:"white"},abierto:{background:Ze.Z[500]},alistamiento:{background:je.Z[500],color:"white"},pendiente:{background:je.Z[700],color:"white"},completado:{background:Ze.Z[500],color:"white"},"en-proceso":{background:Pe.Z[500]},"sin-alistar":{background:Pe.Z[500]},almacenado:{background:Ze.Z[500],color:"white"},normal:{background:Ze.Z[500],color:"white"},medio:{background:Pe.Z[500]},alto:{background:fe.Z[500]},no_aplica:{background:ve.Z[500]},asignado:{background:Ze.Z[600],color:"white"},"sin-revisar":{background:Pe.Z[500]},"sin-estado":{background:ve.Z[50],color:ve.Z[900]},"aprobado-cliente":{background:Ze.Z[400],color:"white"},pedido:{background:je.Z[500],color:"white"},"orden-reabastecimiento":{background:je.Z[500],color:"white"},"solicitud-produccion":{background:je.Z[500],color:"white"},"producto-terminado":{background:je.Z[500],color:"white"},material:{background:je.Z[500]},"aprobado-procesando":{background:Ze.Z[600],color:"white"},"aprobado-terminado":{background:Ze.Z[600],color:"white"},conciliado:{background:Ze.Z[500],color:"white"},general:{background:je.Z[500],color:"white"},fallido:{background:fe.Z[500],color:"white"},exitoso:{background:Ze.Z[500],color:"white"}};const Se=(0,be.Z)(we)((function(e){let{estado:t,classes:a,onClick:s}=e;const r=t?t.replace(/_/g,"-").toLowerCase():"sin-estado",o=t?t.replace(/_/g," "):"SIN ESTADO";return(0,f.jsx)(Q.Z,{size:"small",label:o,className:a[r],onClick:()=>{s&&s()}})})),ke=e=>{let{field:t,form:a,placeholder:s,label:r,className:o,style:i,variant:n,disabled:l,onValueChanged:c}=e;const{value:d,name:u}=t,{setFieldValue:h,errors:p,touched:m,setFieldTouched:x}=a,b=m[u]&&Boolean(p[u]);return(0,f.jsx)(Q.Z,{disabled:l,style:i,error:b,helperText:p[u],className:o,value:d||[],variant:n,placeholder:s,label:r,onAdd:async e=>{d.push(e),x(u,!0),h(u,d),g(c)&&await c(a)},onDelete:async e=>{const t=d.indexOf(e);x(u,!0),h(u,d),t>-1&&(d.splice(t,1),g(c)&&await c(a))},margin:"dense"})};ke.defaultProps={variant:"outlined",disabled:!1,style:{width:"100%"}};const Le=ke;var De=a(75912);const Fe=e=>{let{field:t,items:a,form:s,onOptionSelected:r,...o}=e;const{value:i=[],name:n}=t,{touched:l,errors:c,setFieldValue:d}=s,u=a.filter((e=>i.includes(e.value))),h=l[n]&&Boolean(c[n]);return delete o.proxyonblur,delete o.proxyonchange,(0,f.jsx)(De.Z,{multiple:!0,size:"small",options:a,getOptionLabel:e=>e.label,onChange:async(e,t)=>{const s=a.filter((e=>t.includes(e))).map((e=>e.value));r&&await r(s),d(n,s),g(o.onChange)&&o.onChange(s)},value:u,renderInput:e=>(0,f.jsx)(z.Z,{...e,error:h,helperText:h&&c[n],variant:"outlined",margin:"dense",...o})})},Ne={PERSONA_JURIDICA:"PJ",PERSONA_NATURAL:"PN",HORA:"H",DIA:"D",PRODUCTO_TERMINADO:"PT",RECEPCION:"R",FIELD_TYPE_TEXT:"T",FIELD_TYPE_SELECT:"S",FIELD_TYPE_NUMBER:"N",FIELD_TYPE_LOGIC:"L",FIELD_TYPE_DATE:"F",FIELD_TYPE_MULTIPLE:"M",FIELD_TYPE_INPUTTAG:"IT"};a(30808);var Ae=a(92983);const Re={};Re[Ne.FIELD_TYPE_DATE]=Ae.Z,Re[Ne.FIELD_TYPE_TEXT]=s.dn,Re[Ne.FIELD_TYPE_SELECT]=s.Ky,Re[Ne.FIELD_TYPE_NUMBER]=s.dn,Re[Ne.FIELD_TYPE_LOGIC]=s.HL,Re[Ne.FIELD_TYPE_INPUTTAG]=Le,Re[Ne.FIELD_TYPE_MULTIPLE]=Fe;var Ie=a(70242),Be=a(74512),Oe=a(15825),_e=a(29145),Me=a(78145);(0,c.p5)((0,c.Tg)((function(e){let{url:t,urlData:a,doGet:s,doPut:r,appInfo:i,genericException:n,refresh:l}=e;const[c,d]=(0,o.useState)([]),[h,g]=(0,o.useState)(null),[p,m]=(0,o.useState)(0),x=(0,o.useCallback)((async()=>{const e={url:"".concat(t,"/initestado"),data:{...a}};return await s(e)}),[s,t,a]),b=(0,o.useCallback)((async()=>{try{const{states:e,currentState:t}=await x(),a=e.find((e=>e.state===t));console.log(a),a&&m(a.id-1),console.log(e),d(e)}catch(e){n(e)}}),[n,x]);(0,o.useEffect)((()=>{b()}),[]);const Z=()=>g(null);return(0,f.jsxs)(f.Fragment,{children:[Boolean(h)&&(0,f.jsx)(Me.s,{open:!0,title:"Actualizar el estado",message:"\xbfEst\xe1 seguro de actualizar el estado de este registro?",onClose:Z,onAccept:async()=>{const e={url:"".concat(t,"/updateestado"),data:{state:h,...a}};try{await r(e),b(),l(),Z(),i(u.Z.crud.update)}catch(s){n(s)}}}),(0,f.jsx)(T.Z,{children:"Estado"}),(0,f.jsx)(Ie.Z,{activeStep:p,orientation:"vertical",children:c.map((e=>{const{state:t,transition:a}=e;return console.log(a),(0,f.jsxs)(Be.Z,{children:[(0,f.jsx)(Oe.Z,{children:t}),(0,f.jsx)(_e.Z,{children:(0,f.jsx)(ae.Z,{sx:{p:1},children:(0,f.jsx)("div",{children:a&&a.map((e=>{const{state:t,color:a,label:s}=e;return(0,f.jsx)(q.Z,{variant:"contained",onClick:()=>{g(t)},color:null!==a&&void 0!==a?a:"primary",sx:{minWidth:"100px",mt:1,mr:1},children:s},"index-".concat(t))}))})})})]},t)}))})]})})));var Ue=a(44904);var ze=a(38314),qe=a(95080);function He(e){let{alt:t,url:a,downloadUrl:s,genericException:r,appSuccess:i,appNotify:n,appInfo:l,appWarning:c,appError:d,...u}=e;const[h,g]=(0,o.useState)(null);(0,o.useEffect)((()=>{(async()=>{const e=await Ue.Z.get({url:a});let t="//";if(e.ok){const a=await e.blob();t=await(e=>new Promise(((t,a)=>{const s=new FileReader;s.onerror=a,s.onload=()=>{t(s.result)},s.readAsDataURL(e)})))(a)}g(t)})()}),[a]);const p=async()=>{try{const e=await Ue.Z.download(ze.Z.general.images.download,{imageUrl:s}),t=e.headers.get("content-type").split("/")[1];(async(e,t)=>{const a=await e.blob(),s=window.URL.createObjectURL(new Blob([a])),r=document.createElement("a");r.href=s,r.download=t,r.click();const{parentNode:o}=r;o&&o.removeChild(r)})(e,"imagen_".concat(Date.now(),".").concat(t))}catch(e){r(e)}};return s?h&&(0,f.jsx)(qe.Z,{onClick:p,children:(0,f.jsx)("img",{src:h,alt:t,...u})}):h&&(0,f.jsx)("img",{src:h,alt:t,...u})}He.defaultProps={alt:"Imagen",downloadUrl:!1};(0,c.Tg)(He)},92983:(e,t,a)=>{a.d(t,{Z:()=>c});a(72791);var s=a(11223),r=a(97892),o=a.n(r),i=(a(72426),a(80184));const n="string";function l(e){let{produces:t,format:a,label:r,form:{setFieldValue:l,errors:c,touched:d,setFieldTouched:u},field:{name:h,value:g},...p}=e;const m=g||null,x=d[h]&&Boolean(c[h]);return(0,i.jsx)(s.M,{fullWidth:!0,autoComplete:"off",inputVariant:"outlined",margin:"dense",name:h,clearable:!0,autoOk:!0,error:x,helperText:x&&c[h],label:r,format:a,clearLabel:"Limpiar",okLabel:"Aceptar",cancelLabel:"Cancelar",todayLabel:"Hoy",value:o()(m),animateYearScrolling:!1,onChange:e=>{let s=e;e&&(s=function(e,t,a){return t===n?e?o()(e).format(a):"":e}(s,t,a)),u(h,!0),l(h,s)},...p})}l.defaultProps={produces:n,label:"",format:"YYYY-MM-DD"};const c=l},39874:(e,t,a)=>{a.d(t,{Dt:()=>r,qN:()=>s,zW:()=>o});const s="small",r="medium",o=new Intl.NumberFormat("en-US")},30808:(e,t,a)=>{a.d(t,{default:()=>s});const s={masters:{employees:{title:"Empleados",deleteTitle:"Eliminar registro",deleteMessage:"\xbfEst\xe1 seguro de eliminar este registro?",tableTitle:"Listado de Empleados",createTitle:"Nuevo",updateTitle:"Editar",changeStatusTitle:"Cambiar estado",changeStatusMessage:"\xbfEst\xe1 seguro de cambiar el estado de este registro?"},patients:{title:"Pacientes",deleteTitle:"Eliminar registro",deleteMessage:"\xbfEst\xe1 seguro de eliminar este registro?",tableTitle:"Listado de Pacientes",createTitle:"Nuevo",updateTitle:"Editar",changeStatusTitle:"Cambiar estado",changeStatusMessage:"\xbfEst\xe1 seguro de cambiar el estado de este registro?"},drugs:{title:"Drogas",deleteTitle:"Eliminar registro",deleteMessage:"\xbfEst\xe1 seguro de eliminar este registro?",tableTitle:"Listado de Drogas",createTitle:"Nuevo",updateTitle:"Editar",changeStatusTitle:"Cambiar estado",changeStatusMessage:"\xbfEst\xe1 seguro de cambiar el estado de este registro?"},relatives:{title:"Familiares",deleteTitle:"Eliminar registro",deleteMessage:"\xbfEst\xe1 seguro de eliminar este registro?",tableTitle:"Listado de Familiares",createTitle:"Nuevo",updateTitle:"Editar",changeStatusTitle:"Cambiar estado",changeStatusMessage:"\xbfEst\xe1 seguro de cambiar el estado de este registro?"},phases:{title:"Fases",deleteTitle:"Eliminar registro",deleteMessage:"\xbfEst\xe1 seguro de eliminar este registro?",tableTitle:"Listado de Fases",createTitle:"Nuevo",updateTitle:"Editar",changeStatusTitle:"Cambiar estado",changeStatusMessage:"\xbfEst\xe1 seguro de cambiar el estado de este registro?"},targets:{title:"Objetivos",deleteTitle:"Eliminar registro",deleteMessage:"\xbfEst\xe1 seguro de eliminar este registro?",tableTitle:"Listado de Objetivos",createTitle:"Nuevo",updateTitle:"Editar",changeStatusTitle:"Cambiar estado",changeStatusMessage:"\xbfEst\xe1 seguro de cambiar el estado de este registro?"}},transactions:{psychologies:{title:"Psicolog\xedas",deleteTitle:"Eliminar registro",deleteMessage:"\xbfEst\xe1 seguro de eliminar este registro?",tableTitle:"Listado de Psicolog\xedas",createTitle:"Nuevo",updateTitle:"Editar",changeStatusTitle:"Cambiar estado",changeStatusMessage:"\xbfEst\xe1 seguro de cambiar el estado de este registro?"},evolutions:{title:"Evoluciones",deleteTitle:"Eliminar registro",deleteMessage:"\xbfEst\xe1 seguro de eliminar este registro?",tableTitle:"Listado de Evoluciones",createTitle:"Nuevo",updateTitle:"Editar",changeStatusTitle:"Cambiar estado",changeStatusMessage:"\xbfEst\xe1 seguro de cambiar el estado de este registro?"},evaluations:{title:"Evaluaciones",deleteTitle:"Eliminar registro",deleteMessage:"\xbfEst\xe1 seguro de eliminar este registro?",tableTitle:"Listado de Evaluaciones",createTitle:"Nuevo",updateTitle:"Editar",changeStatusTitle:"Cambiar estado",changeStatusMessage:"\xbfEst\xe1 seguro de cambiar el estado de este registro?"},psychologyRelatives:{title:"Historia Familiar",deleteTitle:"Eliminar registro",deleteMessage:"\xbfEst\xe1 seguro de eliminar este registro?",tableTitle:"Listado de Historia Familiar",createTitle:"Nuevo",updateTitle:"Editar",changeStatusTitle:"Cambiar estado",changeStatusMessage:"\xbfEst\xe1 seguro de cambiar el estado de este registro?"},psychologyDrugs:{title:"Cuadro de consumo",deleteTitle:"Eliminar registro",deleteMessage:"\xbfEst\xe1 seguro de eliminar este registro?",tableTitle:"Listado de Cuadro de consumo",createTitle:"Nuevo",updateTitle:"Editar",changeStatusTitle:"Cambiar estado",changeStatusMessage:"\xbfEst\xe1 seguro de cambiar el estado de este registro?"}},seguridad:{usuarios:{title:"Usuarios",createTitle:"Crear Usuarios",deleteTitle:"Eliminar Usuarios",deleteMessage:"\xbfEsta seguro de eliminar el Usuarios?",updateTitle:"Actualizar Usuarios"},rol:{title:"Roles",createTitle:"Crear rol",deleteTitle:"Eliminar rol",deleteMessage:"\xbfEsta seguro de eliminar el rol?",updateTitle:"Actualizar rol"},rolPermission:{title:"Roles permisos",createTitle:"Crear rol permisos",deleteTitle:"Eliminar rol permisos",deleteMessage:"\xbfEsta seguro de eliminar el rol permisos?",updateTitle:"Actualizar rol permisos"}}}},32325:(e,t,a)=>{a.d(t,{Z:()=>s});const s={crud:{new:"Registro creado correctamente",update:"Registro actualizado correctamente",delete:"Registro eliminado correctamente",changeStatus:"Estado cambiado correctamente",fail:"Ha ocurrido un error al momento de intentar grabar los datos"},actions:{print:"Impresi\xf3n realizada correctamente",fail:"Ha ocurrido un error al momento de realizar la acci\xf3n"},dataFetch:{fail:"Ha ocurrido un error al momento de cargar los datos"},labels:{actions:"Acciones",save:"Guardar",cancel:"Cancelar"},titles:{create:"Crear",update:"Actualizar"},statuses:{active:"Activo",inactive:"Inactivo"},errors:{submitting:"Ocurri\xf3 un error al enviar la informaci\xf3n",invalidFormat:"Solicitud inv\xe1lida",removingRecord:"Ha ocurrido un error al remover el registro",requestError:"Ocurri\xf3 un error al realizar la solicitud.",fetchingSources:"Ocurri\xf3 un error al obtener informaci\xf3n del formulario"},dialogs:{confirm:{title:"Confirmar acci\xf3n",message:"\xbfEst\xe1 seguro de realizar esta acci\xf3n?"}}}},43849:(e,t,a)=>{function s(e){return!1===e||0===e?"Inactivo":"Activo"}function r(e){return"Activo"==e}a.d(t,{HY:()=>r,rp:()=>s})},96172:(e,t,a)=>{a.d(t,{p5:()=>u,Tg:()=>m});var s=a(72791),r=a(44904),o=a(89147),i=a(52007),n=a.n(i),l=a(39259),c=a(17834),d=a(80184);const u=e=>s.memo((t=>{const{clearSession:a}=(0,c.Z)(),s=async(e,t)=>{const s=await(async(e,t)=>{let a;switch(e){case"post":a=await r.Z.post(t);break;case"postForm":a=await r.Z.postFormData(t);break;case"put":a=await r.Z.put(t);break;case"delete":a=await r.Z.delete(t);break;default:a=await r.Z.get(t)}return a})(e,t);if(s.ok){if(s.status===l.ZP.NO_CONTENT)return null;let t="";return t="getFile"==e?await s:await s.json(),t}throw s.status===l.ZP.UNAUTHORIZED&&a(),await o.vW.fromHttpResponse(s)};return(0,d.jsx)(e,{doGet:async e=>s("get",e),doGetFile:async e=>s("getFile",e),doPost:async e=>s("post",e),doPut:async e=>s("put",e),doDelete:async e=>s("delete",e),doPostFormData:async e=>s("postForm",e),...t})}));n().func,n().func,n().func,n().func,n().func,n().func;var h=a(35345),g=a(36710),p=a(32325);n().func.isRequired,n().func.isRequired,n().func.isRequired,n().func.isRequired,n().func.isRequired;const m=e=>t=>{const{enqueueSnackbar:a}=(0,h.Ds)(),s=e=>a(e,{variant:"warning"}),r=(e,t)=>{a(e,{variant:"error"}),console.log(t)};return(0,d.jsx)(e,{appInfo:e=>a(e,{variant:"info"}),appWarning:s,appSuccess:e=>a(e,{variant:"success"}),appError:r,appNotify:e=>a(e),genericException:e=>{e instanceof o.vE||e instanceof g.Z?s(e.message):r(p.Z.dataFetch.fail,e)},...t})};a(73575)}}]);
//# sourceMappingURL=284.87ab2bc7.chunk.js.map