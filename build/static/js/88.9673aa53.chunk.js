"use strict";(self.webpackChunkoasis_front=self.webpackChunkoasis_front||[]).push([[88],{72088:(e,a,s)=>{s.r(a),s.d(a,{default:()=>b});var t=s(72791),o=s(96172),i=s(87284),l=s(30808),r=s(57689),n=(s(85698),s(61889)),d=s(57621),c=s(1847),m=s(80184);const{title:u,updateTitle:x}=l.default.masters.employees,p=[{label:"Maestros"},{label:u}];const b=(0,o.p5)((0,o.Tg)((function(){const{id:e}=(0,r.UO)(),[a,s]=(0,t.useState)(!1),[o,l]=(0,t.useState)(!1),u=(0,t.useRef)();return(0,m.jsx)(i.cc,{title:x,breadcrumbs:p,withOutCard:!0,children:(0,m.jsx)(n.ZP,{container:!0,spacing:2,sx:{pb:2,minHeight:250},children:(0,m.jsx)(n.ZP,{item:!0,xs:12,md:12,children:(0,m.jsx)(d.Z,{sx:{p:3,minHeight:"100%"},children:(0,m.jsx)(c.Z,{id:e,refresh:u,setEditable:s,setViewMode:l,viewMode:o})})})})})})))},1847:(e,a,s)=>{s.d(a,{Z:()=>N});var t=s(72791),o=s(61889),i=s(92506),l=s(81724),r=s(87284),n=s(38314),d=s(32325),c=s(96172),m=s(40720),u=s(57689),x=s(82337),p=s(43849),b=s(92983),h=s(80184);const _=l.Ry({document_type:l.Z_().required("Tipo de documento es requerido"),code:l.Z_().required("Numero es requerido"),name:l.Z_().required("Nombres es requerido"),image:l.Z_().required("Imagen es requerido"),gender:l.Z_().required("Genero es requerido"),marital_status:l.Z_().required("Estado Civil es requerido"),date_of_birth:l.Z_().required("Fecha de Nacimiento es requerido"),address1:l.Z_().required("Direccion 1 es requerido"),address2:l.Z_().required("Direccion 2 es requerido"),phone:l.Z_().required("Telefono es requerido"),cellphone:l.Z_().required("Celular es requerido"),email:l.Z_().required("E-Mail es requerido"),job_title:l.Z_().required("Cargo es requerido"),status:l.Z_().required("Estado es requerido")}),j=n.Z.masters.employees.base;let g=[{label:"DNI",value:"DNI"},{label:"RUC",value:"RUC"},{label:"TI",value:"TI"},{label:"CEDULA",value:"CEDULA"}],Z=[{label:"Masculino",value:"Masculino"},{label:"Femenino",value:"Femenino"},{label:"No binario",value:"No binario"},{label:"Prefiero no especificar",value:"Prefiero no especificar"}],f=[{label:"Soltero(a)",value:"Soltero(a)"},{label:"Casado(a)",value:"Casado(a)"},{label:"Union Libre",value:"Union Libre"},{label:"Separado(a)",value:"Separado(a)"},{label:"Divorciado(a)",value:"Divorciado(a)"},{label:"Viudo(a)",value:"Viudo(a)"}];const q={document_type:"",code:!1,name:!1,image:!1,gender:"",marital_status:"",date_of_birth:!1,address1:!1,address2:!1,phone:!1,cellphone:!1,email:!1,job_title:!1,status:1},N=(0,c.p5)((0,c.Tg)((e=>{let{id:a,doGet:s,genericException:l,appSuccess:c,doPost:N,doPut:v,appInfo:P,setEditable:y,viewMode:C,refresh:E}=e;const R=(0,u.s0)(),[w,D]=(0,t.useState)(q),[S,I]=(0,t.useState)(!0),A=(0,t.useCallback)((async()=>{const e={url:n.Z.masters.employees.initForm,data:a?{id:a}:{}};return await s(e)}),[s,a,E,y]),M=(0,t.useCallback)((async()=>{try{const{employees:e}=await A(),{document_type:a,code:s,name:t,image:o,gender:i,marital_status:l,date_of_birth:r,address1:n,address2:d,phone:c,cellphone:m,email:u,job_title:x,status:b}=e;D({document_type:a||"",code:s||"",name:t||"",image:o||"",gender:i||"",marital_status:l||"",date_of_birth:r||"",address1:n||"",address2:d||"",phone:c||"",cellphone:m||"",email:u||"",job_title:x||"",status:(0,p.rp)(b)||"Activo"}),I(!1)}catch(e){console.log("ERROR AL INICIAR"+e),l(e)}}),[l,A]);(0,t.useEffect)((()=>{M()}),[M]);const T=e=>{R("".concat("/app/general/masters/employees","/edit/").concat(e),{replace:!1})};return(0,h.jsx)(h.Fragment,{children:S?(0,h.jsx)(x.Z,{p:10,children:(0,h.jsx)(r.aN,{})}):(0,h.jsx)(i.J9,{enableReinitialize:!0,initialValues:w,validationSchema:_,onSubmit:async e=>{const s=(e=>{const{document_type:a,code:s,name:t,image:o,gender:i,marital_status:l,date_of_birth:r,address1:n,address2:d,phone:c,cellphone:m,email:u,job_title:x,status:b}=e;return{document_type:a,code:s,name:t,image:o,gender:i,marital_status:l,date_of_birth:r,address1:n,address2:d,phone:c,cellphone:m,email:u,job_title:x,status:(0,p.HY)(b)}})(e),t={url:a?"".concat(j,"/").concat(a):j,data:s},o=a?v:N;try{const e=await o(t);a?(P(d.Z.crud.update),T(e.response.data.id)):(c(d.Z.crud.new),T(e.response.data.id))}catch(i){console.log("ERROR AL GUARDAR "+i),l(i)}},children:e=>(0,h.jsxs)(i.l0,{children:[(0,h.jsx)(m.Au,{formProps:e}),(0,h.jsxs)(o.ZP,{container:!0,direction:"row",spacing:2,children:[(0,h.jsx)(o.ZP,{item:!0,xs:12,md:6,xl:6,children:(0,h.jsx)(i.gN,{label:"Tipo de documento",name:"document_type",component:r.Ky,items:g})}),(0,h.jsx)(o.ZP,{item:!0,xs:6,md:6,xl:6,children:(0,h.jsx)(i.gN,{label:"Numero",name:"code",component:r.dn})}),(0,h.jsx)(o.ZP,{item:!0,xs:6,md:6,xl:6,children:(0,h.jsx)(i.gN,{label:"Nombres",name:"name",component:r.dn})}),(0,h.jsx)(o.ZP,{item:!0,xs:6,md:6,xl:6,children:(0,h.jsx)(i.gN,{label:"Imagen",name:"image",component:r.dn})}),(0,h.jsx)(o.ZP,{item:!0,xs:12,md:6,xl:6,children:(0,h.jsx)(i.gN,{label:"Genero",name:"gender",component:r.Ky,items:Z})}),(0,h.jsx)(o.ZP,{item:!0,xs:12,md:6,xl:6,children:(0,h.jsx)(i.gN,{label:"Estado Civil",name:"marital_status",component:r.Ky,items:f})}),(0,h.jsx)(o.ZP,{item:!0,xs:6,md:6,xl:6,children:(0,h.jsx)(i.gN,{label:"Fecha de Nacimiento",name:"date_of_birth",component:b.Z})}),(0,h.jsx)(o.ZP,{item:!0,xs:6,md:6,xl:6,children:(0,h.jsx)(i.gN,{label:"Direccion 1",name:"address1",component:r.dn})}),(0,h.jsx)(o.ZP,{item:!0,xs:6,md:6,xl:6,children:(0,h.jsx)(i.gN,{label:"Direccion 2",name:"address2",component:r.OW})}),(0,h.jsx)(o.ZP,{item:!0,xs:6,md:6,xl:6,children:(0,h.jsx)(i.gN,{label:"Telefono",name:"phone",component:r.dn})}),(0,h.jsx)(o.ZP,{item:!0,xs:6,md:6,xl:6,children:(0,h.jsx)(i.gN,{label:"Celular",name:"cellphone",component:r.dn})}),(0,h.jsx)(o.ZP,{item:!0,xs:6,md:6,xl:6,children:(0,h.jsx)(i.gN,{label:"E-Mail",name:"email",component:r.dn})}),(0,h.jsx)(o.ZP,{item:!0,xs:6,md:6,xl:6,children:(0,h.jsx)(i.gN,{label:"Cargo",name:"job_title",component:r.dn})}),(0,h.jsx)(o.ZP,{item:!0,xs:12,md:6,xl:6,children:(0,h.jsx)(i.gN,{label:"Estado",name:"status",component:r.dn,disabled:!0})})]})]})})})})))},82337:(e,a,s)=>{s.d(a,{Z:()=>l});var t=s(33359),o=s(23814);const i=(0,s(59703).Z)("MuiBox",["root"]),l=(0,o.Z)({defaultClassName:i.root,generateClassName:t.Z.generate})}}]);
//# sourceMappingURL=88.9673aa53.chunk.js.map