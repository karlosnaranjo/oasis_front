"use strict";(self.webpackChunkoasis_front=self.webpackChunkoasis_front||[]).push([[141],{24568:(e,s,t)=>{t.d(s,{Z:()=>j});var a=t(72791),n=t(61889),o=t(92506),r=t(81724),c=t(87284),d=t(38314),i=t(32325),l=t(96172),u=t(40720),m=t(57689),p=t(82337),x=t(43849),h=t(80184);const b=r.Ry({code:r.Z_().required("Codigo es requerido"),name:r.Z_().required("Nombre fase es requerido"),status:r.Z_().required("Estado es requerido")}),Z=d.Z.masters.phases.base,f={code:!1,name:!1,status:1},j=(0,l.p5)((0,l.Tg)((e=>{let{id:s,doGet:t,genericException:r,appSuccess:l,doPost:j,doPut:g,appInfo:R,setEditable:w,viewMode:C,refresh:N}=e;const A=(0,m.s0)(),[E,P]=(0,a.useState)(f),[v,y]=(0,a.useState)(!0),S=(0,a.useCallback)((async()=>{const e={url:d.Z.masters.phases.initForm,data:s?{id:s}:{}};return await t(e)}),[t,s,N,w]),k=(0,a.useCallback)((async()=>{try{const{phases:e}=await S(),{code:s,name:t,status:a}=e;P({code:s||"Autom\xe1tico",name:t||"",status:(0,x.rp)(a)||"Activo"}),y(!1)}catch(e){console.log("ERROR AL INICIAR"+e),r(e)}}),[r,S]);(0,a.useEffect)((()=>{k()}),[k]);const q=e=>{A("".concat("/app/general/masters/phases","/edit/").concat(e),{replace:!1})};return(0,h.jsx)(h.Fragment,{children:v?(0,h.jsx)(p.Z,{p:10,children:(0,h.jsx)(c.aN,{})}):(0,h.jsx)(o.J9,{enableReinitialize:!0,initialValues:E,validationSchema:b,onSubmit:async e=>{const t=(e=>{const{code:s,name:t,status:a}=e;return{code:s,name:t,status:(0,x.HY)(a)}})(e),a={url:s?"".concat(Z,"/").concat(s):Z,data:t},n=s?g:j;try{const e=await n(a);s?(R(i.Z.crud.update),q(e.response.data.id)):(l(i.Z.crud.new),q(e.response.data.id))}catch(o){console.log("ERROR AL GUARDAR "+o),r(o)}},children:e=>(0,h.jsxs)(o.l0,{children:[(0,h.jsx)(u.Au,{formProps:e}),(0,h.jsxs)(n.ZP,{container:!0,direction:"row",spacing:2,children:[(0,h.jsx)(n.ZP,{item:!0,xs:6,md:6,xl:6,children:(0,h.jsx)(o.gN,{label:"Codigo",name:"code",component:c.dn,disabled:!0,InputProps:{readOnly:!0}})}),(0,h.jsx)(n.ZP,{item:!0,xs:6,md:6,xl:6,children:(0,h.jsx)(o.gN,{label:"Nombre fase",name:"name",component:c.dn})}),(0,h.jsx)(n.ZP,{item:!0,xs:12,md:6,xl:6,children:(0,h.jsx)(o.gN,{label:"Estado",name:"status",component:c.dn,disabled:!0})})]})]})})})})))},6141:(e,s,t)=>{t.r(s),t.d(s,{default:()=>u});var a=t(72791),n=t(87284),o=t(30808),r=t(24568),c=t(80184);const{title:d,createTitle:i}=o.default.masters.phases,l=[{label:"Maestros"},{label:d}];const u=function(){const[e,s]=(0,a.useState)(!1),[t,o]=(0,a.useState)(!1),d=(0,a.useRef)();return(0,c.jsx)(n.cc,{title:i,breadcrumbs:l,children:(0,c.jsx)(r.Z,{refresh:d,setEditable:s,setViewMode:o,viewMode:t})})}},82337:(e,s,t)=>{t.d(s,{Z:()=>r});var a=t(33359),n=t(23814);const o=(0,t(59703).Z)("MuiBox",["root"]),r=(0,n.Z)({defaultClassName:o.root,generateClassName:a.Z.generate})}}]);
//# sourceMappingURL=141.27bc66f6.chunk.js.map