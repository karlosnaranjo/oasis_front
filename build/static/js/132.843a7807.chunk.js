"use strict";(self.webpackChunkoasis_front=self.webpackChunkoasis_front||[]).push([[132],{67132:(e,a,t)=>{t.r(a),t.d(a,{default:()=>y});var s=t(72791),n=t(57689),l=t(87284),r=t(38314),c=t(32325),o=t(96172),i=t(78145),u=t(30808),p=t(61145),d=t(43849),m=t(93044),g=t(80184);const{masters:{patients:{title:h,deleteTitle:f,deleteMessage:b,changeStatusTitle:x,changeStatusMessage:S}}}=u.default,w="general:masters:patients:create",Z="general:masters:patients:delete",j="general:masters:patients:changeStatus",y=(0,o.p5)((0,o.Tg)((e=>{const[a,t]=(0,s.useState)(null),[o,u]=(0,s.useState)(null),[y,C]=(0,s.useState)(null),[A,E]=(0,s.useState)(!1),k=(0,s.useRef)(null);(0,s.useEffect)((()=>{A||t(null)}),[A]);const v=[{label:"masters"},{label:h}],P="/app/general/masters/patients",_=(0,n.s0)(),M=()=>u(null),T=e=>(0,g.jsx)(l.Gh,{row:e,onEdit:()=>{return a=e.id,void _("".concat(P,"/edit/").concat(a),{replace:!0,id:a});var a},onChangeStatus:()=>C(e.id)}),B=[{name:"image",label:"Imagen",component:e=>(0,g.jsx)(m.Z,{alt:e.name,src:e.image,style:{width:"50px",height:"50px"}})},{name:"code",label:"Numero"},{name:"name",label:"Nombres"},{name:"cellphone",label:"Celular"},{name:"admission_date",label:"Fecha de Ingreso"},{name:"responsible_adult",label:"Acudiente"},{label:"Estado",filter:!1,component:e=>(0,g.jsx)(l.Fm,{estado:(0,d.rp)(e.status)})},{name:"acciones",width:130,align:"right",label:"Acciones",filter:!1,component:e=>T(e)}];return(0,g.jsxs)(l.cc,{breadcrumbs:v,children:[Boolean(o)&&(0,g.jsx)(i.s,{open:!0,title:f,message:b,onClose:M,onAccept:async()=>{const a="".concat(r.Z.masters.patients.base,"/").concat(o);try{await e.doDelete({url:a}),k.current.refresh(),M(),e.appWarning(c.Z.crud.delete)}catch(t){e.appError(c.Z.crud.fail)}finally{u(null)}},createPermissions:Z}),Boolean(y)&&(0,g.jsx)(i.s,{open:!0,title:x,message:S,onClose:()=>C(null),onAccept:()=>(async()=>{const a="".concat(r.Z.masters.patients.base,"/changestatus/").concat(y);try{await e.doPut({url:a}),e.appWarning(c.Z.crud.changeStatus),k.current.refresh()}catch(t){e.appError(c.Z.crud.fail)}finally{C(null)}})(),createPermissions:j}),A&&(0,g.jsx)(p.Z,{id:a,setOpenModal:E,refreshData:k}),(0,g.jsx)(l.iA,{forwardedRef:k,onCreate:()=>{_("".concat(P,"/new"),{replace:!1})},serverSideUrl:r.Z.masters.patients.base,columns:B,title:h,createPermissions:w})]})})))}}]);
//# sourceMappingURL=132.843a7807.chunk.js.map