"use strict";(self.webpackChunkoasis_front=self.webpackChunkoasis_front||[]).push([[630],{92502:(e,t,a)=>{a.d(t,{Z:()=>j});var s=a(72791),n=a(61889),c=a(92506),o=a(81724),r=a(87284),d=a(38314),i=a(32325),l=a(96172),u=a(40720),m=a(57689),x=a(82337),h=a(43849),p=a(80184);const b=o.Ry({code:o.Z_().required("Codigo es requerido"),name:o.Z_().required("Nombre es requerido"),technical_name:o.Z_().required("Nombre tecnico es requerido"),status:o.Z_().required("Estado es requerido")}),g=d.Z.masters.drugs.base,Z={code:!1,name:!1,technical_name:!1,status:1},j=(0,l.p5)((0,l.Tg)((e=>{let{id:t,doGet:a,genericException:o,appSuccess:l,doPost:j,doPut:f,appInfo:_,setEditable:N,viewMode:R,refresh:w}=e;const C=(0,m.s0)(),[P,q]=(0,s.useState)(Z),[A,E]=(0,s.useState)(!0),v=(0,s.useCallback)((async()=>{const e={url:d.Z.masters.drugs.initForm,data:t?{id:t}:{}};return await a(e)}),[a,t,w,N]),y=(0,s.useCallback)((async()=>{try{const{drugs:e}=await v(),{code:t,name:a,technical_name:s,status:n}=e;q({code:t||"Autom\xe1tico",name:a||"",technical_name:s||"",status:(0,h.rp)(n)||"Activo"}),E(!1)}catch(e){console.log("ERROR AL INICIAR"+e),o(e)}}),[o,v]);(0,s.useEffect)((()=>{y()}),[y]);const S=e=>{C("".concat("/app/general/masters/drugs","/edit/").concat(e),{replace:!1})};return(0,p.jsx)(p.Fragment,{children:A?(0,p.jsx)(x.Z,{p:10,children:(0,p.jsx)(r.aN,{})}):(0,p.jsx)(c.J9,{enableReinitialize:!0,initialValues:P,validationSchema:b,onSubmit:async e=>{const a=(e=>{const{code:t,name:a,technical_name:s,status:n}=e;return{code:t,name:a,technical_name:s,status:(0,h.HY)(n)}})(e),s={url:t?"".concat(g,"/").concat(t):g,data:a},n=t?f:j;try{const e=await n(s);t?(_(i.Z.crud.update),S(e.response.data.id)):(l(i.Z.crud.new),S(e.response.data.id))}catch(c){console.log("ERROR AL GUARDAR "+c),o(c)}},children:e=>(0,p.jsxs)(c.l0,{children:[(0,p.jsx)(u.Au,{formProps:e}),(0,p.jsxs)(n.ZP,{container:!0,direction:"row",spacing:2,children:[(0,p.jsx)(n.ZP,{item:!0,xs:6,md:6,xl:6,children:(0,p.jsx)(c.gN,{label:"Codigo",name:"code",component:r.dn,disabled:!0,InputProps:{readOnly:!0}})}),(0,p.jsx)(n.ZP,{item:!0,xs:6,md:6,xl:6,children:(0,p.jsx)(c.gN,{label:"Nombre",name:"name",component:r.dn})}),(0,p.jsx)(n.ZP,{item:!0,xs:6,md:6,xl:6,children:(0,p.jsx)(c.gN,{label:"Nombre t\xe9cnico",name:"technical_name",component:r.dn})}),(0,p.jsx)(n.ZP,{item:!0,xs:12,md:6,xl:6,children:(0,p.jsx)(c.gN,{label:"Estado",name:"status",component:r.dn,disabled:!0})})]})]})})})})))},40630:(e,t,a)=>{a.r(t),a.d(t,{default:()=>u});var s=a(72791),n=a(87284),c=a(30808),o=a(92502),r=a(80184);const{title:d,createTitle:i}=c.default.masters.drugs,l=[{label:"Maestros"},{label:d}];const u=function(){const[e,t]=(0,s.useState)(!1),[a,c]=(0,s.useState)(!1),d=(0,s.useRef)();return(0,r.jsx)(n.cc,{title:i,breadcrumbs:l,children:(0,r.jsx)(o.Z,{refresh:d,setEditable:t,setViewMode:c,viewMode:a})})}},82337:(e,t,a)=>{a.d(t,{Z:()=>o});var s=a(33359),n=a(23814);const c=(0,a(59703).Z)("MuiBox",["root"]),o=(0,n.Z)({defaultClassName:c.root,generateClassName:s.Z.generate})}}]);
//# sourceMappingURL=630.da66791a.chunk.js.map