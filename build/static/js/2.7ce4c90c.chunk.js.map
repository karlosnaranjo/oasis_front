{"version":3,"file":"static/js/2.7ce4c90c.chunk.js","mappings":"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","sources":["pages/masters/phases/targets/Form.js","pages/masters/phases/targets/index.js","pages/masters/phases/Edit.js","pages/masters/phases/Form.js","../node_modules/@mui/system/esm/Box/boxClasses.js","../node_modules/@mui/system/esm/Box/Box.js"],"sourcesContent":["import React, { useCallback, useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { Grid, Dialog, DialogTitle, DialogContent } from '@mui/material';\nimport { Form, Field, Formik } from 'formik';\nimport * as Yup from 'yup';\nimport { TextBase, SelectBase,  Loader, ButtonSave, ButtonBase } from 'components';\nimport endPoints from 'endPoints/endPoints';\nimport messages from 'constantes/messages';\nimport { withApi, withNotification } from 'wrappers';\nimport { Box } from '@mui/system';\nimport { getStatusLabel, getStatusValue } from \"utils/formHelpers\";\n\n\n\nconst validationSchema = Yup.object({\n\tcode: Yup.string().required('Codigo es requerido'),\n\tname: Yup.string().required('Nombre fase es requerido'),\n\tstatus: Yup.string().required('Estado es requerido'),\n \n});\n\nconst urlBase = endPoints.masters.targets.base;\n\n\n\nconst initState = {\n\tcode: false,\n\tname: false,\n\t\tstatus: 1,\n\n};\n\nconst selectMap = (data) => {\n    return data.map((row) => ({ value: row.id, label: row.name }));\n};\n\nconst TargetsForm = ({\n    id,\n    phase_id,\n    doGet,\n    genericException,\n    appSuccess,\n    doPost,\n    doPut,\n    appInfo,\n    setEditable,\n    viewMode,\n    setOpenModal,\n    refreshData,\n    refreshTable\n    }) => {\n    const [state, setState] = useState(initState);\n    const [isLoading, setLoading] = useState(true);\n\n    // Call to API for load form values\n    const loadFields = useCallback(async () => {\n    const params = {\n        url: endPoints.masters.targets.initForm,\n        data: id ? { id: id } : {}\n    };\n    const resp = await doGet(params);\n    return resp;\n    }, [doGet, id, setEditable]);\n\n    const init = useCallback(async () => {\n    try {\n        const { targets,  } = await loadFields();\n\n\n        const {\n            code, name, status, \n        } = targets;\n\n        setState({\n            \t\t\tcode: code || \"\",\n\t\t\tname: name || \"\",\n\t\t\t\t\t\tstatus: getStatusLabel(status) || \"Activo\",\n\n        });\n\n        setLoading(false);\n    } catch (error) {\n        console.log('ERROR AL INICIAR'+error);\n        genericException(error);\n    }\n    }, [genericException, loadFields]);\n\n    useEffect(() => {\n        init();\n    }, [init]);\n\n    const mapValues = (values) => {\n        const { code, name, status,  } = values;\n        return {\n            phase_id: phase_id,\n            code, name, status: getStatusValue(status), \n        };\n    };\n\n    const submit = async (valuesForm) => {\n        const method = id ? doPut : doPost;\n        const data = mapValues(valuesForm);\n        const params = {\n            url: `${urlBase}${id ? `/${id}` : ''}`,\n            //url: id ? `${urlBase}/${id}` : urlBase,\n            data: data\n        };\n\n        try {\n            const resp = await method(params);\n            if (id) {\n                appInfo(messages.crud.update);\n            } else {\n                appSuccess(messages.crud.new);\n            }\n            refreshTable()\n        } catch (error) {\n            console.log('ERROR AL GUARDAR '+error);\n            genericException(error);\n        } finally {\n            setOpenModal(false);\n            refreshData.current.refresh();\n        }\n    };\n\n    return (\n    <Dialog fullWidth maxWidth=\"xl\" open onClose={() => setOpenModal(false)} aria-labelledby=\"max-width-dialog-title\">\n        <DialogTitle id=\"max-width-dialog-title\">Objetivos</DialogTitle>\n        <DialogContent>\n            \n        {isLoading ? (\n            <Box p={10}>\n                <Loader />\n            </Box>\n        ) : (\n            <Formik enableReinitialize initialValues={state} validationSchema={validationSchema} onSubmit={submit}>\n                {(subProps) => (\n                <Form>\n                    <Grid container direction=\"row\" spacing={2}>\n    \n                        <Grid item xs={6} md={6} xl={6}>\n                            <Field label=\"Codigo\" name=\"code\" component={TextBase} \n                                //onClick={(event) => handleChangecode(event)} \n                            />\n                        </Grid>\n            \n                        <Grid item xs={6} md={6} xl={6}>\n                            <Field label=\"Nombre fase\" name=\"name\" component={TextBase} \n                                //onClick={(event) => handleChangename(event)} \n                            />\n                        </Grid>\n            \n                        <Grid item xs={12} md={6} xl={6}>\n                            <Field label=\"Estado\" name=\"status\" component={TextBase} disabled={true} />\n                        </Grid>\n            \n                    </Grid>\n                    <Grid container direction=\"row\" style={{ paddingTop: 30 }} justify=\"flex-end\">\n                        <Grid item>\n                            <ButtonSave />\n                            <ButtonBase\n                                onClick={() => setOpenModal(false)}\n                                label=\"Cancelar\"\n                                style={{ marginLeft: 15 }}\n                            />\n                        </Grid>\n                    </Grid>\n                </Form>\n                )}\n            </Formik>\n        )}\n       </DialogContent>\n    </Dialog>\n            \n    );\n};\n\nTargetsForm.propTypes = {\n    id: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n    doPost: PropTypes.func,\n    doGet: PropTypes.func,\n    doPut: PropTypes.func,\n    appInfo: PropTypes.func.isRequired,\n    appSuccess: PropTypes.func.isRequired,\n    genericException: PropTypes.func.isRequired,\n    setEditable: PropTypes.func,\n    refresh: PropTypes.oneOfType([PropTypes.object])\n};\n\nexport default withApi(withNotification(TargetsForm));","import React, { useState, useRef } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { withApi, withNotification } from \"wrappers\";\nimport { ConfirmModal } from \"components/dialogs\";\nimport { DefaultActions, Table, EstadoChip } from \"components\";\nimport endPoints from \"endPoints/endPoints\";\nimport messages from \"constantes/messages\";\nimport masterMessages from \"constantes/masterMessages\";\nimport TargetsForm from './Form';\nimport { getStatusLabel } from \"utils/formHelpers\";\n\nconst permissions = {\n  createPermissions: \"general:masters:targets:create\",\n  updatePermissions: \"general:masters:targets:update\",\n  deletePermissions: \"general:masters:targets:delete\",\n  changeStatusPermissions: \"general:masters:targets:changeStatus\",\n};\n\nconst TargetsGrid = ({\n  id,\n  doDelete,\n  appWarning,\n  genericException,\n  editable,\n}) => {\n  const [idToRemove, setIdToRemove] = useState(null);\n  const [idToUpdate, setIdToUpdate] = useState(null);\n  const phase_id = id;\n  console.log(phase_id);\n  const [openModal, setOpenModal] = useState(false);\n  const child = useRef(null);\n\n  const openModalDelete = (idModel) => setIdToRemove(idModel);\n  const closeModalDelete = () => setIdToRemove(null);\n\n  const refreshTabletargets = () =>  child.current.refresh();\n\n  const onDelete = async () => {\n    const params = {\n      url: `${endPoints.masters.targets.base}/${idToRemove}`\n    };\n    try {\n      await doDelete(params);\n      refreshTabletargets();\n      closeModalDelete();\n      appWarning(messages.crud.delete);\n    } catch (error) {\n      genericException(error);\n    }\n  };\n\n  const openModalForm = (id = null) => {\n    setOpenModal(true);\n    setIdToUpdate(id);\n  };\n\n  const closeModalUpdate = () => {\n    setOpenModal(false);\n    setIdToUpdate(null);\n  };\n\n  const acciones = (row) => {\n    const { id } = row;\n    return (\n      <DefaultActions\n        onEdit={() => openModalForm(id)}\n        onDelete={() => openModalDelete(id)}\n        row={row}\n      />\n    );\n  };\n\n  const { deleteTitle, deleteMessage } =\n    masterMessages.masters.targets;\n\n  const columns = [\n\t\t{ name: 'code', label: 'Codigo' },\n\t\t{ name: 'name', label: 'Nombre fase' },\n\n    {\n      label: \"Estado\",\n      filter: false,\n      component: (row) => <EstadoChip estado={getStatusLabel(row.status)} />,\n    },\n    {\n      name: \"acciones\",\n      label: \"Acciones\",\n      filter: false,\n      component: (row) => acciones(row),\n    }\n  ];\n\n   return (\n    <>\n      {Boolean(idToRemove) && (\n        <ConfirmModal\n          open\n          title={deleteTitle}\n          message={deleteMessage}\n          onClose={closeModalDelete}\n          onAccept={onDelete}\n          createPermissions={permissions.deletePermissions}\n        />\n      )}\n      {Boolean(openModal) && (\n        <TargetsForm\n          id={idToUpdate}\n          phase_id={phase_id}\n          setOpenModal={closeModalUpdate}\n          refreshTable={refreshTabletargets}\n          editable={editable}\n        />\n      )}\n      <Table\n        forwardedRef={child}\n        serverSideUrl={endPoints.masters.targets.base}\n        serverSideData={{ where: `phase_id=${phase_id}` }}\n        onCreate={openModalForm}\n        columns={columns}\n        createPermissions={permissions.createPermissions}\n      />\n    </>\n  );\n};\n\nTargetsGrid.propTypes = {\n    appWarning: PropTypes.func.isRequired,\n    genericException: PropTypes.func.isRequired,\n    doDelete: PropTypes.func,\n    doGet: PropTypes.func,\n    editable: PropTypes.bool,\n};\n\nexport default withApi(withNotification(TargetsGrid)); ","import React, { useState, useRef, useEffect } from 'react';\nimport { withApi, withNotification } from 'wrappers';\nimport { PageGeneral } from 'components';\nimport masterMessages from 'constantes/masterMessages';\nimport { useParams } from 'react-router';\nimport TabsComponent from 'components/Tab';\nimport { Card, Grid } from '@mui/material';\nimport PhasesForm from './Form';\nimport TargetsGrid from './targets/index';\n\nconst { title, updateTitle } = masterMessages.masters.phases;\n\nconst breadcrumbs = [{ label: 'Maestros' }, { label: title }];\n\nconst MIN_HEIGHT = 250;\n\nfunction Edit() {\n  const { id } = useParams();\n  const [editable, setEditable] = useState(false);\n  const [viewMode, setViewMode] = useState(false);\n\n  const child = useRef();\n\n  const refreshParent = () => child.current.refresh();\n  \n    const tabConfig = [\n\t\t\t{'label': 'Objetivos', component: <TargetsGrid id={id} refreshParent={refreshParent} editable={!editable}/>},\n    ]\n    \n\n  return (\n    <PageGeneral title={updateTitle} breadcrumbs={breadcrumbs} withOutCard>\n      <Grid container spacing={2} sx={{ pb: 2, minHeight: MIN_HEIGHT }}>\n        <Grid item xs={12} md={12}>\n          <Card sx={{ p: 3, minHeight: '100%' }}>\n              <PhasesForm id={id} refresh={child} setEditable={setEditable} setViewMode={setViewMode} viewMode={viewMode} \n              />\n          </Card>\n        </Grid>\n      </Grid>\n      <Card sx={{ pl: 2, pr: 2 }}>\n        <TabsComponent config={tabConfig} />\n      </Card>\n    </PageGeneral>\n  );\n}\n\nexport default withApi(withNotification(Edit));","import React, { useCallback, useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { Grid, } from '@mui/material';\nimport { Form, Field, Formik } from 'formik';\nimport * as Yup from 'yup';\nimport { TextBase, Loader } from 'components';\nimport endPoints from 'endPoints/endPoints';\nimport messages from 'constantes/messages';\nimport { withApi, withNotification } from 'wrappers';\nimport { FormButtons } from 'components/controls';\nimport { useNavigate } from 'react-router';\nimport { Box } from '@mui/system';\nimport { getStatusLabel, getStatusValue } from 'utils/formHelpers';\n\n\nconst validationSchema = Yup.object({\n    code: Yup.string().required('Codigo es requerido'),\n    name: Yup.string().required('Nombre fase es requerido'),\n    status: Yup.string().required('Estado es requerido'),\n\n});\n\nconst urlBase = endPoints.masters.phases.base;\n\n\n\nconst baseUrl = '/app/general/masters/phases';\n\nconst initState = {\n    code: false,\n    name: false,\n    status: 1,\n\n};\n\nconst selectMap = (data) => {\n    return data.map((row) => ({ value: row.id, label: row.name }));\n};\n\nconst PhasesForm = ({\n    id,\n    doGet,\n    genericException,\n    appSuccess,\n    doPost,\n    doPut,\n    appInfo,\n    setEditable,\n    viewMode,\n    refresh,\n}) => {\n    const navigate = useNavigate();\n    const [state, setState] = useState(initState);\n    const [isLoading, setLoading] = useState(true);\n\n    // Call to API for load form values\n    const loadFields = useCallback(async () => {\n        const params = {\n            url: endPoints.masters.phases.initForm,\n            data: id ? { id: id } : {}\n        };\n        const resp = await doGet(params);\n        return resp;\n    }, [doGet, id, refresh, setEditable]);\n\n    const init = useCallback(async () => {\n        try {\n            const { phases, } = await loadFields();\n\n\n            const {\n                code, name, status,\n            } = phases;\n\n            setState({\n                code: code || \"Automático\",\n                name: name || \"\",\n                status: getStatusLabel(status) || \"Activo\",\n\n            });\n\n            setLoading(false);\n        } catch (error) {\n            console.log('ERROR AL INICIAR' + error);\n            genericException(error);\n        }\n    }, [genericException, loadFields]);\n\n    useEffect(() => {\n        init();\n    }, [init]);\n\n    const redirectEdit = (id) => {\n        navigate(`${baseUrl}/edit/${id}`, { replace: false });\n    };\n\n    const mapValues = (values) => {\n        const { code, name, status, } = values;\n        return {\n            code, name, status: getStatusValue(status),\n        };\n    };\n\n    const submit = async (valuesForm) => {\n        const data = mapValues(valuesForm);\n        const params = {\n            url: id ? `${urlBase}/${id}` : urlBase,\n            data: data\n        };\n        const method = id ? doPut : doPost;\n\n        try {\n            const resp = await method(params);\n            if (id) {\n                appInfo(messages.crud.update);\n                redirectEdit(resp.response.data.id);\n            } else {\n                appSuccess(messages.crud.new);\n                redirectEdit(resp.response.data.id);\n            }\n        } catch (error) {\n            console.log('ERROR AL GUARDAR ' + error);\n            genericException(error);\n        }\n    };\n\n    return (\n        <>\n            {isLoading ? (\n                <Box p={10}>\n                    <Loader />\n                </Box>\n            ) : (\n                <Formik enableReinitialize initialValues={state} validationSchema={validationSchema} onSubmit={submit}>\n                    {(subProps) => (\n                        <Form>\n                            {!id && viewMode ? (\n                                <FormButtons formProps={subProps} />\n                            ) : (\n                                <FormButtons formProps={subProps} />\n                            )}\n                            <Grid container direction=\"row\" spacing={2}>\n\n                                <Grid item xs={6} md={6} xl={6}>\n                                    <Field label=\"Codigo\" name=\"code\" component={TextBase}\n                                        disabled={true}\n                                        InputProps={{\n                                            readOnly: true\n                                        }}\n                                    //onClick={(event) => handleChangecode(event)} \n                                    />\n                                </Grid>\n\n                                <Grid item xs={6} md={6} xl={6}>\n                                    <Field label=\"Nombre fase\" name=\"name\" component={TextBase}\n                                    //onClick={(event) => handleChangename(event)} \n                                    />\n                                </Grid>\n\n                                <Grid item xs={12} md={6} xl={6}>\n                                    <Field label=\"Estado\" name=\"status\" component={TextBase} disabled={true} />\n                                </Grid>\n\n                            </Grid>\n                        </Form>\n                    )}\n                </Formik>\n            )}\n        </>\n    );\n};\n\nPhasesForm.propTypes = {\n    id: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n    doPost: PropTypes.func,\n    doGet: PropTypes.func,\n    doPut: PropTypes.func,\n    appInfo: PropTypes.func.isRequired,\n    appSuccess: PropTypes.func.isRequired,\n    genericException: PropTypes.func.isRequired,\n    setEditable: PropTypes.func,\n    refresh: PropTypes.oneOfType([PropTypes.object])\n};\n\nexport default withApi(withNotification(PhasesForm));","import { unstable_generateUtilityClasses as generateUtilityClasses } from '@mui/utils';\nconst boxClasses = generateUtilityClasses('MuiBox', ['root']);\nexport default boxClasses;","'use client';\n\nimport PropTypes from 'prop-types';\nimport { unstable_ClassNameGenerator as ClassNameGenerator } from '@mui/utils';\nimport createBox from '../createBox';\nimport boxClasses from './boxClasses';\nconst Box = createBox({\n  defaultClassName: boxClasses.root,\n  generateClassName: ClassNameGenerator.generate\n});\nprocess.env.NODE_ENV !== \"production\" ? Box.propTypes /* remove-proptypes */ = {\n  // ┌────────────────────────────── Warning ──────────────────────────────┐\n  // │ These PropTypes are generated from the TypeScript type definitions. │\n  // │    To update them, edit the d.ts file and run `pnpm proptypes`.     │\n  // └─────────────────────────────────────────────────────────────────────┘\n  /**\n   * @ignore\n   */\n  children: PropTypes.node,\n  /**\n   * The component used for the root node.\n   * Either a string to use a HTML element or a component.\n   */\n  component: PropTypes.elementType,\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object, PropTypes.bool])), PropTypes.func, PropTypes.object])\n} : void 0;\nexport default Box;"],"names":["validationSchema","Yup","code","required","name","status","urlBase","endPoints","masters","targets","base","initState","withApi","withNotification","_ref","id","phase_id","doGet","genericException","appSuccess","doPost","doPut","appInfo","setEditable","viewMode","setOpenModal","refreshData","refreshTable","state","setState","useState","isLoading","setLoading","loadFields","useCallback","async","params","url","initForm","data","init","getStatusLabel","error","console","log","useEffect","_jsxs","Dialog","fullWidth","maxWidth","open","onClose","children","_jsx","DialogTitle","DialogContent","Box","p","Loader","Formik","enableReinitialize","initialValues","onSubmit","method","values","getStatusValue","mapValues","valuesForm","concat","messages","crud","update","new","current","refresh","subProps","Form","Grid","container","direction","spacing","item","xs","md","xl","Field","label","component","TextBase","disabled","style","paddingTop","justify","ButtonSave","ButtonBase","onClick","marginLeft","permissions","doDelete","appWarning","editable","idToRemove","setIdToRemove","idToUpdate","setIdToUpdate","openModal","child","useRef","closeModalDelete","refreshTabletargets","openModalForm","arguments","length","undefined","acciones","row","DefaultActions","onEdit","onDelete","deleteTitle","deleteMessage","masterMessages","columns","filter","EstadoChip","estado","_Fragment","Boolean","ConfirmModal","title","message","onAccept","delete","createPermissions","TargetsForm","closeModalUpdate","Table","forwardedRef","serverSideUrl","serverSideData","where","onCreate","updateTitle","phases","breadcrumbs","useParams","setViewMode","tabConfig","TargetsGrid","refreshParent","PageGeneral","withOutCard","sx","pb","minHeight","Card","PhasesForm","pl","pr","TabsComponent","config","navigate","useNavigate","redirectEdit","replace","resp","response","FormButtons","formProps","InputProps","readOnly","generateUtilityClasses","createBox","defaultClassName","boxClasses","root","generateClassName","ClassNameGenerator","generate"],"sourceRoot":""}