"use strict";(self.webpackChunkoasis_front=self.webpackChunkoasis_front||[]).push([[833],{1847:(e,a,s)=>{s.d(a,{Z:()=>N});var t=s(72791),o=s(61889),l=s(92506),r=s(81724),n=s(87284),i=s(38314),d=s(32325),c=s(96172),m=s(40720),u=s(57689),x=s(82337),p=s(43849),b=s(92983),h=s(80184);const _=r.Ry({document_type:r.Z_().required("Tipo de documento es requerido"),code:r.Z_().required("Numero es requerido"),name:r.Z_().required("Nombres es requerido"),image:r.Z_().required("Imagen es requerido"),gender:r.Z_().required("Genero es requerido"),marital_status:r.Z_().required("Estado Civil es requerido"),date_of_birth:r.Z_().required("Fecha de Nacimiento es requerido"),address1:r.Z_().required("Direccion 1 es requerido"),address2:r.Z_().required("Direccion 2 es requerido"),phone:r.Z_().required("Telefono es requerido"),cellphone:r.Z_().required("Celular es requerido"),email:r.Z_().required("E-Mail es requerido"),job_title:r.Z_().required("Cargo es requerido"),status:r.Z_().required("Estado es requerido")}),j=i.Z.masters.employees.base;let g=[{label:"DNI",value:"DNI"},{label:"RUC",value:"RUC"},{label:"TI",value:"TI"},{label:"CEDULA",value:"CEDULA"}],Z=[{label:"Masculino",value:"Masculino"},{label:"Femenino",value:"Femenino"},{label:"No binario",value:"No binario"},{label:"Prefiero no especificar",value:"Prefiero no especificar"}],f=[{label:"Soltero(a)",value:"Soltero(a)"},{label:"Casado(a)",value:"Casado(a)"},{label:"Union Libre",value:"Union Libre"},{label:"Separado(a)",value:"Separado(a)"},{label:"Divorciado(a)",value:"Divorciado(a)"},{label:"Viudo(a)",value:"Viudo(a)"}];const q={document_type:"",code:!1,name:!1,image:!1,gender:"",marital_status:"",date_of_birth:!1,address1:!1,address2:!1,phone:!1,cellphone:!1,email:!1,job_title:!1,status:1},N=(0,c.p5)((0,c.Tg)((e=>{let{id:a,doGet:s,genericException:r,appSuccess:c,doPost:N,doPut:v,appInfo:y,setEditable:P,viewMode:C,refresh:E}=e;const R=(0,u.s0)(),[D,S]=(0,t.useState)(q),[w,I]=(0,t.useState)(!0),A=(0,t.useCallback)((async()=>{const e={url:i.Z.masters.employees.initForm,data:a?{id:a}:{}};return await s(e)}),[s,a,E,P]),M=(0,t.useCallback)((async()=>{try{const{employees:e}=await A(),{document_type:a,code:s,name:t,image:o,gender:l,marital_status:r,date_of_birth:n,address1:i,address2:d,phone:c,cellphone:m,email:u,job_title:x,status:b}=e;S({document_type:a||"",code:s||"",name:t||"",image:o||"",gender:l||"",marital_status:r||"",date_of_birth:n||"",address1:i||"",address2:d||"",phone:c||"",cellphone:m||"",email:u||"",job_title:x||"",status:(0,p.rp)(b)||"Activo"}),I(!1)}catch(e){console.log("ERROR AL INICIAR"+e),r(e)}}),[r,A]);(0,t.useEffect)((()=>{M()}),[M]);const T=e=>{R("".concat("/app/general/masters/employees","/edit/").concat(e),{replace:!1})};return(0,h.jsx)(h.Fragment,{children:w?(0,h.jsx)(x.Z,{p:10,children:(0,h.jsx)(n.aN,{})}):(0,h.jsx)(l.J9,{enableReinitialize:!0,initialValues:D,validationSchema:_,onSubmit:async e=>{const s=(e=>{const{document_type:a,code:s,name:t,image:o,gender:l,marital_status:r,date_of_birth:n,address1:i,address2:d,phone:c,cellphone:m,email:u,job_title:x,status:b}=e;return{document_type:a,code:s,name:t,image:o,gender:l,marital_status:r,date_of_birth:n,address1:i,address2:d,phone:c,cellphone:m,email:u,job_title:x,status:(0,p.HY)(b)}})(e),t={url:a?"".concat(j,"/").concat(a):j,data:s},o=a?v:N;try{const e=await o(t);a?(y(d.Z.crud.update),T(e.response.data.id)):(c(d.Z.crud.new),T(e.response.data.id))}catch(l){console.log("ERROR AL GUARDAR "+l),r(l)}},children:e=>(0,h.jsxs)(l.l0,{children:[(0,h.jsx)(m.Au,{formProps:e}),(0,h.jsxs)(o.ZP,{container:!0,direction:"row",spacing:2,children:[(0,h.jsx)(o.ZP,{item:!0,xs:12,md:6,xl:6,children:(0,h.jsx)(l.gN,{label:"Tipo de documento",name:"document_type",component:n.Ky,items:g})}),(0,h.jsx)(o.ZP,{item:!0,xs:6,md:6,xl:6,children:(0,h.jsx)(l.gN,{label:"Numero",name:"code",component:n.dn})}),(0,h.jsx)(o.ZP,{item:!0,xs:6,md:6,xl:6,children:(0,h.jsx)(l.gN,{label:"Nombres",name:"name",component:n.dn})}),(0,h.jsx)(o.ZP,{item:!0,xs:6,md:6,xl:6,children:(0,h.jsx)(l.gN,{label:"Imagen",name:"image",component:n.dn})}),(0,h.jsx)(o.ZP,{item:!0,xs:12,md:6,xl:6,children:(0,h.jsx)(l.gN,{label:"Genero",name:"gender",component:n.Ky,items:Z})}),(0,h.jsx)(o.ZP,{item:!0,xs:12,md:6,xl:6,children:(0,h.jsx)(l.gN,{label:"Estado Civil",name:"marital_status",component:n.Ky,items:f})}),(0,h.jsx)(o.ZP,{item:!0,xs:6,md:6,xl:6,children:(0,h.jsx)(l.gN,{label:"Fecha de Nacimiento",name:"date_of_birth",component:b.Z})}),(0,h.jsx)(o.ZP,{item:!0,xs:6,md:6,xl:6,children:(0,h.jsx)(l.gN,{label:"Direccion 1",name:"address1",component:n.dn})}),(0,h.jsx)(o.ZP,{item:!0,xs:6,md:6,xl:6,children:(0,h.jsx)(l.gN,{label:"Direccion 2",name:"address2",component:n.OW})}),(0,h.jsx)(o.ZP,{item:!0,xs:6,md:6,xl:6,children:(0,h.jsx)(l.gN,{label:"Telefono",name:"phone",component:n.dn})}),(0,h.jsx)(o.ZP,{item:!0,xs:6,md:6,xl:6,children:(0,h.jsx)(l.gN,{label:"Celular",name:"cellphone",component:n.dn})}),(0,h.jsx)(o.ZP,{item:!0,xs:6,md:6,xl:6,children:(0,h.jsx)(l.gN,{label:"E-Mail",name:"email",component:n.dn})}),(0,h.jsx)(o.ZP,{item:!0,xs:6,md:6,xl:6,children:(0,h.jsx)(l.gN,{label:"Cargo",name:"job_title",component:n.dn})}),(0,h.jsx)(o.ZP,{item:!0,xs:12,md:6,xl:6,children:(0,h.jsx)(l.gN,{label:"Estado",name:"status",component:n.dn,disabled:!0})})]})]})})})})))},73833:(e,a,s)=>{s.r(a),s.d(a,{default:()=>m});var t=s(72791),o=s(87284),l=s(30808),r=s(1847),n=s(80184);const{title:i,createTitle:d}=l.default.masters.employees,c=[{label:"Maestros"},{label:i}];const m=function(){const[e,a]=(0,t.useState)(!1),[s,l]=(0,t.useState)(!1),i=(0,t.useRef)();return(0,n.jsx)(o.cc,{title:d,breadcrumbs:c,children:(0,n.jsx)(r.Z,{refresh:i,setEditable:a,setViewMode:l,viewMode:s})})}},82337:(e,a,s)=>{s.d(a,{Z:()=>r});var t=s(33359),o=s(23814);const l=(0,s(59703).Z)("MuiBox",["root"]),r=(0,o.Z)({defaultClassName:l.root,generateClassName:t.Z.generate})}}]);
//# sourceMappingURL=833.09072e20.chunk.js.map