"use strict";(self.webpackChunkoasis_front=self.webpackChunkoasis_front||[]).push([[505],{87505:(e,s,t)=>{t.r(s),t.d(s,{default:()=>h});var a=t(72791),n=t(96172),r=t(87284),i=t(30808),o=t(57689),c=(t(85698),t(61889)),d=t(57621),l=t(25750),u=t(80184);const{title:m,updateTitle:x}=i.default.masters.relatives,p=[{label:"Maestros"},{label:m}];const h=(0,n.p5)((0,n.Tg)((function(){const{id:e}=(0,o.UO)(),[s,t]=(0,a.useState)(!1),[n,i]=(0,a.useState)(!1),m=(0,a.useRef)();return(0,u.jsx)(r.cc,{title:x,breadcrumbs:p,withOutCard:!0,children:(0,u.jsx)(c.ZP,{container:!0,spacing:2,sx:{pb:2,minHeight:250},children:(0,u.jsx)(c.ZP,{item:!0,xs:12,md:12,children:(0,u.jsx)(d.Z,{sx:{p:3,minHeight:"100%"},children:(0,u.jsx)(l.Z,{id:e,refresh:m,setEditable:t,setViewMode:i,viewMode:n})})})})})})))},25750:(e,s,t)=>{t.d(s,{Z:()=>j});var a=t(72791),n=t(61889),r=t(92506),i=t(81724),o=t(87284),c=t(38314),d=t(32325),l=t(96172),u=t(40720),m=t(57689),x=t(82337),p=t(43849),h=t(80184);const Z=i.Ry({code:i.Z_().required("Codigo es requerido"),name:i.Z_().required("Nombre fase es requerido"),status:i.Z_().required("Estado es requerido")}),b=c.Z.masters.relatives.base,g={code:!1,name:!1,status:1},j=(0,l.p5)((0,l.Tg)((e=>{let{id:s,doGet:t,genericException:i,appSuccess:l,doPost:j,doPut:f,appInfo:v,setEditable:R,viewMode:w,refresh:C}=e;const N=(0,m.s0)(),[P,E]=(0,a.useState)(g),[A,S]=(0,a.useState)(!0),k=(0,a.useCallback)((async()=>{const e={url:c.Z.masters.relatives.initForm,data:s?{id:s}:{}};return await t(e)}),[t,s,C,R]),q=(0,a.useCallback)((async()=>{try{const{relatives:e}=await k(),{code:s,name:t,status:a}=e;E({code:s||"",name:t||"",status:(0,p.rp)(a)||"Activo"}),S(!1)}catch(e){console.log("ERROR AL INICIAR"+e),i(e)}}),[i,k]);(0,a.useEffect)((()=>{q()}),[q]);const y=e=>{N("".concat("/app/general/masters/relatives","/edit/").concat(e),{replace:!1})};return(0,h.jsx)(h.Fragment,{children:A?(0,h.jsx)(x.Z,{p:10,children:(0,h.jsx)(o.aN,{})}):(0,h.jsx)(r.J9,{enableReinitialize:!0,initialValues:P,validationSchema:Z,onSubmit:async e=>{const t=(e=>{const{code:s,name:t,status:a}=e;return{code:s,name:t,status:(0,p.HY)(a)}})(e),a={url:s?"".concat(b,"/").concat(s):b,data:t},n=s?f:j;try{const e=await n(a);s?(v(d.Z.crud.update),y(e.response.data.id)):(l(d.Z.crud.new),y(e.response.data.id))}catch(r){console.log("ERROR AL GUARDAR "+r),i(r)}},children:e=>(0,h.jsxs)(r.l0,{children:[(0,h.jsx)(u.Au,{formProps:e}),(0,h.jsxs)(n.ZP,{container:!0,direction:"row",spacing:2,children:[(0,h.jsx)(n.ZP,{item:!0,xs:6,md:6,xl:6,children:(0,h.jsx)(r.gN,{label:"Codigo",name:"code",component:o.dn})}),(0,h.jsx)(n.ZP,{item:!0,xs:6,md:6,xl:6,children:(0,h.jsx)(r.gN,{label:"Nombre fase",name:"name",component:o.dn})}),(0,h.jsx)(n.ZP,{item:!0,xs:12,md:6,xl:6,children:(0,h.jsx)(r.gN,{label:"Estado",name:"status",component:o.dn,disabled:!0})})]})]})})})})))},82337:(e,s,t)=>{t.d(s,{Z:()=>i});var a=t(33359),n=t(23814);const r=(0,t(59703).Z)("MuiBox",["root"]),i=(0,n.Z)({defaultClassName:r.root,generateClassName:a.Z.generate})}}]);
//# sourceMappingURL=505.bb38b202.chunk.js.map