"use strict";(self.webpackChunkoasis_front=self.webpackChunkoasis_front||[]).push([[105],{1105:(e,t,s)=>{s.r(t),s.d(t,{default:()=>p});var a=s(72791),n=s(96172),c=s(87284),r=s(30808),i=s(57689),o=(s(85698),s(61889)),d=s(57621),l=s(92502),u=s(80184);const{title:m,updateTitle:x}=r.default.masters.drugs,h=[{label:"Maestros"},{label:m}];const p=(0,n.p5)((0,n.Tg)((function(){const{id:e}=(0,i.UO)(),[t,s]=(0,a.useState)(!1),[n,r]=(0,a.useState)(!1),m=(0,a.useRef)();return(0,u.jsx)(c.cc,{title:x,breadcrumbs:h,withOutCard:!0,children:(0,u.jsx)(o.ZP,{container:!0,spacing:2,sx:{pb:2,minHeight:250},children:(0,u.jsx)(o.ZP,{item:!0,xs:12,md:12,children:(0,u.jsx)(d.Z,{sx:{p:3,minHeight:"100%"},children:(0,u.jsx)(l.Z,{id:e,refresh:m,setEditable:s,setViewMode:r,viewMode:n})})})})})})))},92502:(e,t,s)=>{s.d(t,{Z:()=>j});var a=s(72791),n=s(61889),c=s(92506),r=s(81724),i=s(87284),o=s(38314),d=s(32325),l=s(96172),u=s(40720),m=s(57689),x=s(82337),h=s(43849),p=s(80184);const g=r.Ry({code:r.Z_().required("Codigo es requerido"),name:r.Z_().required("Nombre es requerido"),technical_name:r.Z_().required("Nombre tecnico es requerido"),status:r.Z_().required("Estado es requerido")}),b=o.Z.masters.drugs.base,Z={code:!1,name:!1,technical_name:!1,status:1},j=(0,l.p5)((0,l.Tg)((e=>{let{id:t,doGet:s,genericException:r,appSuccess:l,doPost:j,doPut:f,appInfo:_,setEditable:N,viewMode:R,refresh:w}=e;const C=(0,m.s0)(),[P,q]=(0,a.useState)(Z),[E,v]=(0,a.useState)(!0),A=(0,a.useCallback)((async()=>{const e={url:o.Z.masters.drugs.initForm,data:t?{id:t}:{}};return await s(e)}),[s,t,w,N]),S=(0,a.useCallback)((async()=>{try{const{drugs:e}=await A(),{code:t,name:s,technical_name:a,status:n}=e;q({code:t||"",name:s||"",technical_name:a||"",status:(0,h.rp)(n)||"Activo"}),v(!1)}catch(e){console.log("ERROR AL INICIAR"+e),r(e)}}),[r,A]);(0,a.useEffect)((()=>{S()}),[S]);const k=e=>{C("".concat("/app/general/masters/drugs","/edit/").concat(e),{replace:!1})};return(0,p.jsx)(p.Fragment,{children:E?(0,p.jsx)(x.Z,{p:10,children:(0,p.jsx)(i.aN,{})}):(0,p.jsx)(c.J9,{enableReinitialize:!0,initialValues:P,validationSchema:g,onSubmit:async e=>{const s=(e=>{const{code:t,name:s,technical_name:a,status:n}=e;return{code:t,name:s,technical_name:a,status:(0,h.HY)(n)}})(e),a={url:t?"".concat(b,"/").concat(t):b,data:s},n=t?f:j;try{const e=await n(a);t?(_(d.Z.crud.update),k(e.response.data.id)):(l(d.Z.crud.new),k(e.response.data.id))}catch(c){console.log("ERROR AL GUARDAR "+c),r(c)}},children:e=>(0,p.jsxs)(c.l0,{children:[(0,p.jsx)(u.Au,{formProps:e}),(0,p.jsxs)(n.ZP,{container:!0,direction:"row",spacing:2,children:[(0,p.jsx)(n.ZP,{item:!0,xs:6,md:6,xl:6,children:(0,p.jsx)(c.gN,{label:"Codigo",name:"code",component:i.dn})}),(0,p.jsx)(n.ZP,{item:!0,xs:6,md:6,xl:6,children:(0,p.jsx)(c.gN,{label:"Nombre",name:"name",component:i.dn})}),(0,p.jsx)(n.ZP,{item:!0,xs:6,md:6,xl:6,children:(0,p.jsx)(c.gN,{label:"Nombre tecnico",name:"technical_name",component:i.dn})}),(0,p.jsx)(n.ZP,{item:!0,xs:12,md:6,xl:6,children:(0,p.jsx)(c.gN,{label:"Estado",name:"status",component:i.dn,disabled:!0})})]})]})})})})))},82337:(e,t,s)=>{s.d(t,{Z:()=>r});var a=s(33359),n=s(23814);const c=(0,s(59703).Z)("MuiBox",["root"]),r=(0,n.Z)({defaultClassName:c.root,generateClassName:a.Z.generate})}}]);
//# sourceMappingURL=105.61fa1d71.chunk.js.map